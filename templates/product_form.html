{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center mt-5 mb-5" id="page-content" class="page-transition">
    <div class="col-md-8">
        <div class="card signuper mb-4">
            <div class="card-header" style="background: var(--dark-green);">
                <button class="btn header-tabs py-2 px-3 float-start">
                    <a href="{{ url_for('main.index') }}">
                        <i class="bi bi-arrow-left fs-3 txt-black"></i>
                    </a>
                </button>
                <h4 class="mb-0 txt-black">{% if product %}ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„{% else %}Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯{% endif %}</h4>
            </div>
            <div class="card-body bg-very-black">
                <!-- ÙØ±Ù… Ø¨Ø¯ÙˆÙ† Ø¬Ø§ÙˆØ§ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª -->
                <form method="POST" id="productForm">
                    <div class="mb-3">
                        <label for="name" class="form-label txt-black">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</label>
                        <input type="text" class="inputs txt-black" placeholder="Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" id="name" name="name" 
                               value="{{ product.name if product else '' }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="description" class="form-label txt-black">ØªÙˆØ¶ÛŒØ­Ø§Øª</label>
                        <textarea class="inputs txt-black" placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ø±Ø§Ø¬Ø¨ Ù…Ø­ØµÙˆÙ„ Ùˆ ÙˆÛŒÚ˜Ú¯ÛŒ Ù‡Ø§ÛŒ Ø¢Ù†..." id="description" name="description" rows="3">{{ product.description if product else '' }}</textarea>
                    </div>
                    <div class="mb-3">
                        <label for="price" class="form-label txt-black">Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†)</label>
                        <input type="number" inputmode="numeric" pattern="[0-9]*" class="inputs txt-black"
                            placeholder="Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" id="price" name="price"
                            value="{{ product.price if product else '' }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="category_id" class="form-label txt-black">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</label>
                        <select class="form-select txt-black" id="category_id" name="category_id" required>
                            <option value="" class="txt-black">Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</option>
                            {% for category in categories %}
                            <option class="txt-black" value="{{ category.id }}" {% if product and product.category_id == category.id %}selected{% endif %}>
                                {{ category.name }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="province" class="form-label txt-black">Ø§Ø³ØªØ§Ù†</label>
                        <select class="form-select txt-black" id="province" name="province" required>
                            <option class="txt-black" value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³ØªØ§Ù†</option>
                            {% for province in provinces %}
                            <option class="txt-black" value="{{ province }}" {% if product and product.address.split('-')[0] == province %}selected{% endif %}>
                                {{ province }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="city" class="form-label txt-black">Ø´Ù‡Ø±</label>
                        <select class="form-select txt-black" id="city" name="city" required>
                            <option class="txt-black" value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù‡Ø±</option>
                            {% if product %}
                                {% for city in citiesByProvince[product.address.split('-')[0]] %}
                                <option class="txt-black" value="{{ city }}" {% if product.address.split('-')[1] == city %}selected{% endif %}>
                                    {{ city }}
                                </option>
                                {% endfor %}
                            {% endif %}
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="postal_code" class="form-label txt-black">Ú©Ø¯ Ù¾Ø³ØªÛŒ</label>
                        <input type="text" class="inputs txt-black" placeholder="Ú©Ø¯ Ù¾Ø³ØªÛŒ Ù…Ø­Ù„ ÙØ±ÙˆØ´ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)" id="postal_code" name="postal_code" 
                               value="{{ product.postal_code if product else '' }}">
                    </div>


                   <div class="mb-3">
                        <label for="brand" class="form-label txt-black">Ø¨Ø±Ù†Ø¯</label>
                        <select class="form-select txt-black" id="brand" name="brand" required>
                            <option class="txt-black" value="" disabled {% if not product %}selected{% endif %}>Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø±Ù†Ø¯</option>
                            <option class="txt-black" value="bosch" {% if product and product.brand == "bosch" %}selected{% endif %}>Bosch</option>
                            <option class="txt-black" value="makita" {% if product and product.brand == "makita" %}selected{% endif %}>Makita</option>
                            <option class="txt-black" value="dewalt" {% if product and product.brand == "dewalt" %}selected{% endif %}>DeWalt</option>
                            <option class="txt-black" value="milwaukee" {% if product and product.brand == "milwaukee" %}selected{% endif %}>Milwaukee</option>
                            <option class="txt-black" value="hilti" {% if product and product.brand == "hilti" %}selected{% endif %}>Hilti</option>
                            <option class="txt-black" value="stanley" {% if product and product.brand == "stanley" %}selected{% endif %}>Stanley</option>
                            <option class="txt-black" value="ingersoll_rand" {% if product and product.brand == "ingersoll_rand" %}selected{% endif %}>Ingersoll Rand</option>
                            <option class="txt-black" value="black_decker" {% if product and product.brand == "black_decker" %}selected{% endif %}>Black & Decker</option>
                            <option class="txt-black" value="metabo" {% if product and product.brand == "metabo" %}selected{% endif %}>Metabo</option>
                            <option class="txt-black" value="hitachi" {% if product and product.brand == "hitachi" %}selected{% endif %}>Hitachi</option>
                            <option class="txt-black" value="ridgid" {% if product and product.brand == "ridgid" %}selected{% endif %}>Ridgid</option>
                            <option class="txt-black" value="ryobi" {% if product and product.brand == "ryobi" %}selected{% endif %}>Ryobi</option>
                            <option class="txt-black" value="festool" {% if product and product.brand == "festool" %}selected{% endif %}>Festool</option>
                            <option class="txt-black" value="einhell" {% if product and product.brand == "einhell" %}selected{% endif %}>Einhell</option>
                            <option class="txt-black" value="ronix" {% if product and product.brand == "ronix" %}selected{% endif %}>Ronix</option>
                            <option class="txt-black" value="ingco" {% if product and product.brand == "ingco" %}selected{% endif %}>INGCO</option>
                            <option class="txt-black" value="total" {% if product and product.brand == "total" %}selected{% endif %}>TOTAL</option>
                            <option class="txt-black" value="tactix" {% if product and product.brand == "tactix" %}selected{% endif %}>Tactix</option>
                            <option class="txt-black" value="kress" {% if product and product.brand == "kress" %}selected{% endif %}>Kress</option>
                            <option class="txt-black" value="skil" {% if product and product.brand == "skil" %}selected{% endif %}>Skil</option>
                            <option class="txt-black" value="AEG" {% if product and product.brand == "AEG" %}selected{% endif %}>AEG</option>
                            <option class="txt-black" value="wurth" {% if product and product.brand == "wurth" %}selected{% endif %}>wurth</option>
                        </select>
                    </div>


                    <div class="mb-3">
                        <label for="product_type" class="form-label txt-black">Ù†ÙˆØ¹ Ù…Ø­ØµÙˆÙ„</label>
                        <select class="form-select txt-black" id="product_type" name="product_type" required>
                            <option class="txt-black" value="NEW" {% if product and product.product_type.name == "NEW" %}selected{% endif %}>Ù†Ùˆ</option>
                            <option class="txt-black" value="STOCK" {% if product and product.product_type.name == "STOCK" %}selected{% endif %}>Ø§Ø³ØªÙˆÚ©</option>
                            <option class="txt-black" value="USED" {% if product and product.product_type.name == "USED" %}selected{% endif %}>Ø¯Ø³Øª Ø¯ÙˆÙ…</option>
                            <option class="txt-black" value="NEEDS_REPAIR" {% if product and product.product_type.name == "NEEDS_REPAIR" %}selected{% endif %}>Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¹Ù…ÛŒØ± Ø¬Ø²Ø¦ÛŒ</option>
                        </select>
                    </div>


                    <div class="mb-3">
                        <label for="image" class="form-label txt-black">ØªØµÙˆÛŒØ± Ù…Ø­ØµÙˆÙ„</label>
                    
                        <!-- Ø¯Ú©Ù…Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ ÙØ§ÛŒÙ„ Ø¨Ø§ Ø·Ø±Ø§Ø­ÛŒ Ù…Ø±Ø¨Ø¹ -->
                        <div class="custom-file">
                            <input type="file" class="form-control-file d-none" id="image" name="image" accept="image/*">

                            <!-- Ù…Ø±Ø¨Ø¹ Ø¨Ø§ Ø¹Ù„Ø§Ù…Øª + Ùˆ Ù†ÙˆØ´ØªÙ‡ "Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³" -->
                            <div class="image-upload-box" onclick="document.getElementById('image').click();">
                                <span class="image-upload-plus">+</span>
                                <p class="image-upload-text">Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³</p>
                            </div>
                        </div>
                        <input type="hidden" name="uploaded_image_path" id="uploaded_image_path" value="">
                        <!-- Ù†Ù…Ø§ÛŒØ´ ØªØµÙˆÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ -->
                        {% if product and product.image_path %}
                        <div class="mt-2">
                            <img src="{{ url_for('static', filename='uploads/' + product.image_path) }}" 
                                 alt="ØªØµÙˆÛŒØ± ÙØ¹Ù„ÛŒ" class="img-thumbnail" style="max-height: 200px;">
                        </div>
                        {% endif %}
                    
                        <!-- Ù†Ù…Ø§ÛŒØ´ ØªØµÙˆÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ÛŒ Ø¨Ù‡â€ŒØµÙˆØ±Øª Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´ -->
                        <div class="mt-2" id="imagePreview" style="display: none;">
                            <img src="" alt="ØªØµÙˆÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ÛŒ" class="img-thumbnail" style="max-height: 200px;">
                            <!-- Ø¯Ú©Ù…Ù‡ Ø¶Ø±Ø¨Ø¯Ø± Ø¨Ø±Ø§ÛŒ Ù„ØºÙˆ Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³ -->
                            <button type="button" class="btn btn-danger btn-sm mt-2" onclick="removeImage()">Ù„ØºÙˆ Ø§Ù†ØªØ®Ø§Ø¨</button>
                        </div>
                        <div class="progress mt-2" id="uploadProgress" style="display: none;">
                          <div class="progress-bar bg-success" role="progressbar" style="width: 0%;" aria-valuemin="0" aria-valuemax="100" id="uploadProgressBar">0%</div>
                          <p class="txt-black">Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³</p>
                        </div>
                    </div>


                    <div class="d-grid">
                        <button type="submit" id="submitBtn" class="btn btn-danger header-tabs py-3 txt-black" disabled>
                            {% if product %}Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­ØµÙˆÙ„{% else %}Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­ØµÙˆÙ„{% endif %}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    // Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§Ø² Jinja Ø¯Ø±ÙˆÙ† Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª:
    const initialProvince = "{{ product.address.split('-')[0] if product else '' }}";
    const initialCity = "{{ product.address.split('-')[1] if product else '' }}";
</script>
<style>
    .image-upload-box {
        width: 120px;
        height: 120px;
        border: 2px dashed #0d6efd;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        text-align: center;
    }

    .image-upload-plus {
        font-size: 40px;
        color: #0d6efd;
    }

    .image-upload-text {
        font-size: 12px;
        color: #0d6efd;
        margin-top: 5px;
    }

    .image-upload-box:hover {
        background-color: var(--dark-green);
    }

    .image-upload-box:active {
        background-color: var(--black-color);
    }
    .progress {
    height: 20px;
    background-color: #333;
    border-radius: 10px;
    overflow: hidden;
    color: white;
}

.progress-bar {
    line-height: 20px;
    font-size: 12px;
    transition: width 0.4s ease;
}
#uploadProgress {
    display: block;
    height: 20px !important;
    background-color: #444;
    border: 1px solid #999;
}

#uploadProgressBar {
    background-color: #28a745;
    width: 0%;
    height: 100%;
    color: white;
    text-align: center;
}
</style>
<script>
    let startX = 0;
    let startY = 0;
    let currentX = 0;
    let currentY = 0;
    const threshold = 80; // Ø­Ø¯Ø§Ù‚Ù„ ÙØ§ØµÙ„Ù‡ Ø§ÙÙ‚ÛŒ Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± ØµÙØ­Ù‡
    const minHorizontalMove = 30; // Ø­Ø¯Ø§Ù‚Ù„ Ø§Ø®ØªÙ„Ø§Ù Ø§ÙÙ‚ÛŒ Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„ Ø´Ø¯Ù† Ø³ÙˆØ§ÛŒÙ¾
    const maxVerticalMove = 50;   // Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ø®ØªÙ„Ø§Ù Ø¹Ù…ÙˆØ¯ÛŒ Ú©Ù‡ Ø§Ø¬Ø§Ø²Ù‡ Ø³ÙˆØ§ÛŒÙ¾ Ø±Ùˆ Ù…ÛŒØ¯Ù‡
    let page = document.getElementById("page-content");

    window.addEventListener("touchstart", (e) => {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
        page.style.transition = "none"; // Ù„ØºÙˆ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¨Ø±Ø§ÛŒ Ø­Ø±Ú©Øª Ø²Ù†Ø¯Ù‡
    });

    window.addEventListener("touchmove", (e) => {
        currentX = e.touches[0].clientX;
        currentY = e.touches[0].clientY;
        let diffX = currentX - startX;
        let diffY = currentY - startY;

        // ÙÙ‚Ø· Ø§Ú¯Ø± Ø­Ø±Ú©Øª Ø§ÙÙ‚ÛŒ Ø¨ÛŒØ´ØªØ± Ø§Ø² Ø­Ø¯Ø§Ù‚Ù„ Ø¨ÙˆØ¯ Ùˆ Ø­Ø±Ú©Øª Ø¹Ù…ÙˆØ¯ÛŒ Ú©Ù…ØªØ± Ø§Ø² Ø­Ø¯Ø§Ú©Ø«Ø±ØŒ Ø§Ø¬Ø§Ø²Ù‡ Ø­Ø±Ú©Øª Ø¨Ø¯Ù‡
        if (Math.abs(diffX) > minHorizontalMove && Math.abs(diffY) < maxVerticalMove) {
            page.style.transform = `translateX(${diffX}px)`;
        }
    });

    window.addEventListener("touchend", () => {
        let diffX = currentX - startX;
        let diffY = currentY - startY;

        page.style.transition = "transform 0.3s ease"; // Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ø§Ù†ÛŒÙ…ÛŒØ´Ù†

        // ÙÙ‚Ø· Ø§Ú¯Ø± Ø­Ø±Ú©Øª Ø§ÙÙ‚ÛŒ Ø¨Ø²Ø±Ú¯ØªØ± Ø§Ø² Ø¢Ø³ØªØ§Ù†Ù‡ Ùˆ Ø­Ø±Ú©Øª Ø¹Ù…ÙˆØ¯ÛŒ Ú©Ù…ØªØ± Ø§Ø² Ø­Ø¯ Ø¨ÙˆØ¯ØŒ ØµÙØ­Ù‡ Ø±Ùˆ Ø¬Ø§Ø¨Ø¬Ø§ Ú©Ù†
        if (Math.abs(diffX) > threshold && Math.abs(diffY) < maxVerticalMove) {
            if (diffX > 0) {
                // Ø³ÙˆØ§ÛŒÙ¾ Ø¨Ù‡ Ø±Ø§Ø³Øª â† Ø±ÙØªÙ† Ø¨Ù‡ ØµÙØ­Ù‡ Ù‚Ø¨Ù„ÛŒ
                page.style.transform = "translateX(100%)";
                setTimeout(() => {
                    window.location.href = "https://stockdivar.ir"; // Ù…Ø³ÛŒØ± Ù…Ø¯ Ù†Ø¸Ø± Ø´Ù…Ø§
                }, 300);
            } else {
                // Ø³ÙˆØ§ÛŒÙ¾ Ø¨Ù‡ Ú†Ù¾ â†’ Ø±ÙØªÙ† Ø¨Ù‡ ØµÙØ­Ù‡ Ø¨Ø¹Ø¯ÛŒ
                page.style.transform = "translateX(-100%)";
                setTimeout(() => {
                    window.location.href = "https://stockdivar.ir"; // Ù…Ø³ÛŒØ± Ù…Ø¯ Ù†Ø¸Ø± Ø´Ù…Ø§
                }, 300);
            }
        } else {
            // Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† ØµÙØ­Ù‡ Ø¨Ù‡ Ø¬Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ
            page.style.transform = "translateX(0)";
        }

        startX = 0;
        currentX = 0;
        startY = 0;
        currentY = 0;
    });

</script>
<script>
document.getElementById('image').addEventListener('change', previewImage);

function previewImage(event) {
    const file = event.target.files[0];
    if (!file || !file.type.startsWith('image/')) return;

    console.log("ğŸ“ ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ:", file.name);

    const reader = new FileReader();
    reader.onload = function (e) {
        const img = new Image();
        img.onload = function () {
            const MAX_WIDTH = 1000;
            const MAX_HEIGHT = 1000;

            let width = img.width;
            let height = img.height;

            // Ù†Ø³Ø¨Øª ØªØµÙˆÛŒØ± Ø­ÙØ¸ Ø¨Ø´Ù‡
            if (width > height && width > MAX_WIDTH) {
                height *= MAX_WIDTH / width;
                width = MAX_WIDTH;
            } else if (height > MAX_HEIGHT) {
                width *= MAX_HEIGHT / height;
                height = MAX_HEIGHT;
            }

            const canvas = document.createElement('canvas');
            canvas.width = width;
            canvas.height = height;

            const ctx = canvas.getContext('2d');
            ctx.drawImage(img, 0, 0, width, height);

            // Ø®Ø±ÙˆØ¬ÛŒ ØªØµÙˆÛŒØ± ÙØ´Ø±Ø¯Ù‡â€ŒØ´Ø¯Ù‡
            canvas.toBlob(function (blob) {
                const formData = new FormData();
                formData.append('image', blob, file.name); // ÙØ´Ø±Ø¯Ù‡ Ø´Ø¯Ù‡

                uploadCompressedImage(formData);
            }, 'image/jpeg', 0.8);  // Ú©ÛŒÙÛŒØª 80%
        };
        img.src = e.target.result;
    };
    reader.readAsDataURL(file);
}

function uploadCompressedImage(formData) {
    const progressContainer = document.getElementById("uploadProgress");
    const progressBar = document.getElementById("uploadProgressBar");
    progressContainer.style.display = "block";
    progressBar.style.width = "0%";
    progressBar.innerText = "0%";

    document.getElementById("submitBtn").disabled = true;

    const xhr = new XMLHttpRequest();

    xhr.upload.addEventListener("progress", function (e) {
        if (e.lengthComputable) {
            const percent = Math.round((e.loaded / e.total) * 100);
            progressBar.style.width = percent + "%";
            progressBar.innerText = percent + "%";
        }
    });

    xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE) {
            setTimeout(() => {
                progressContainer.style.display = "none";
            }, 500);

            if (xhr.status === 200) {
                const data = JSON.parse(xhr.responseText);
                if (data.image_path) {
                    const preview = document.getElementById("imagePreview");
                    preview.style.display = "block";
                    preview.querySelector("img").src = `/static/uploads/${data.image_path}`;
                    document.getElementById("uploaded_image_path").value = data.image_path;
                    document.getElementById("image").disabled = true;
                    document.getElementById("submitBtn").disabled = false;
                    console.log("âœ… Ø¢Ù¾Ù„ÙˆØ¯ Ù…ÙˆÙÙ‚");
                } else {
                    alert("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ±");
                    document.getElementById("submitBtn").disabled = true;
                }
            } else {
                alert("âŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ± Ø¨Ø±Ù‚Ø±Ø§Ø± Ù†Ø´Ø¯");
                document.getElementById("submitBtn").disabled = true;
            }
        }
    };

    xhr.open("POST", "/upload-image", true);
    xhr.send(formData);
}

function removeImage() {
    document.getElementById("imagePreview").style.display = "none";
    const fileInput = document.getElementById("image");
    fileInput.type = '';
    fileInput.type = 'file';
    document.getElementById("uploaded_image_path").value = "";
    document.getElementById("submitBtn").disabled = true;
}

window.addEventListener('DOMContentLoaded', function () {
    const existingImage = "{{ product.image_path if product else '' }}";
    if (existingImage) {
        document.getElementById("submitBtn").disabled = false;
        document.getElementById("uploaded_image_path").value = existingImage;
    }
});
</script>
<script>
    const toEnglishDigits = (str) => str.replace(/[Û°-Û¹]/g, d => 'Û°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹'.indexOf(d));
    
    document.getElementById('price').addEventListener('input', function(e) {
        this.value = toEnglishDigits(this.value);
    });
  </script>
<script>
    // Ù„ÛŒØ³Øª Ø´Ù‡Ø±Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù‡Ø± Ø§Ø³ØªØ§Ù†
    if (!window.citiesByProvince) {
        window.citiesByProvince = {
    "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ": [
        "ØªØ¨Ø±ÛŒØ²",
        "Ø§Ø³Ú©Ùˆ",
        "Ø§Ù‡Ø±",
        "Ø¨Ø³ØªØ§Ù†â€ŒØ¢Ø¨Ø§Ø¯",
        "Ø¨Ù†Ø§Ø¨",
        "Ø¬Ù„ÙØ§",
        "Ú†Ø§Ø±Ø§ÙˆÛŒÙ…Ø§Ù‚",
        "Ø®Ø¯Ø§Ø¢ÙØ±ÛŒÙ†",
        "Ø³Ø±Ø§Ø¨",
        "Ø´Ø¨Ø³ØªØ±",
        "Ø¹Ø¬Ø¨â€ŒØ´ÛŒØ±",
        "Ú©Ù„ÛŒØ¨Ø±",
        "Ù…Ø±Ø§ØºÙ‡",
        "Ù…Ø±Ù†Ø¯",
        "Ù…Ù„Ú©Ø§Ù†",
        "Ù…ÛŒØ§Ù†Ù‡",
        "ÙˆØ±Ø²Ù‚Ø§Ù†",
        "Ù‡Ø±ÛŒØ³",
        "Ù‡Ø´ØªØ±ÙˆØ¯"
    ],
    "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ": [
        "Ø§Ø±ÙˆÙ…ÛŒÙ‡",
        "Ø§Ø´Ù†ÙˆÛŒÙ‡",
        "Ø¨ÙˆÚ©Ø§Ù†",
        "Ù¾Ù„Ø¯Ø´Øª",
        "Ù¾ÛŒØ±Ø§Ù†Ø´Ù‡Ø±",
        "ØªÚ©Ø§Ø¨",
        "Ú†Ø§Ù„Ø¯Ø±Ø§Ù†",
        "Ú†Ø§ÛŒÙ¾Ø§Ø±Ù‡",
        "Ø®ÙˆÛŒ",
        "Ø³Ø±Ø¯Ø´Øª",
        "Ø³Ù„Ù…Ø§Ø³",
        "Ø´Ø§Ù‡ÛŒÙ†â€ŒØ¯Ú˜",
        "Ø´ÙˆØ·",
        "Ù…Ø§Ú©Ùˆ",
        "Ù…Ù‡Ø§Ø¨Ø§Ø¯",
        "Ù…ÛŒØ§Ù†Ø¯ÙˆØ¢Ø¨",
        "Ù†Ù‚Ø¯Ù‡"
    ],
    "Ø§Ø±Ø¯Ø¨ÛŒÙ„": [
        "Ø§Ø±Ø¯Ø¨ÛŒÙ„",
        "Ø¨ÛŒÙ„Ù‡â€ŒØ³ÙˆØ§Ø±",
        "Ù¾Ø§Ø±Ø³â€ŒØ¢Ø¨Ø§Ø¯",
        "Ø®Ù„Ø®Ø§Ù„",
        "Ø³Ø±Ø¹ÛŒÙ†",
        "Ú©ÙˆØ«Ø±",
        "Ú¯Ø±Ù…ÛŒ",
        "Ù…Ø´Ú¯ÛŒÙ†â€ŒØ´Ù‡Ø±",
        "Ù†Ù…ÛŒÙ†",
        "Ù†ÛŒØ±"
    ],
    "Ø§ØµÙÙ‡Ø§Ù†": [
        "Ø§ØµÙÙ‡Ø§Ù†",
        "Ø¢Ø±Ø§Ù† Ùˆ Ø¨ÛŒØ¯Ú¯Ù„",
        "Ø§Ø±Ø¯Ø³ØªØ§Ù†",
        "Ø¨Ø±Ø®ÙˆØ§Ø±",
        "Ø¨ÙˆØ¦ÛŒÙ† Ùˆ Ù…ÛŒØ§Ù†Ø¯Ø´Øª",
        "ØªÛŒØ±Ø§Ù† Ùˆ Ú©Ø±ÙˆÙ†",
        "Ú†Ø§Ø¯Ú¯Ø§Ù†",
        "Ø®Ù…ÛŒÙ†ÛŒâ€ŒØ´Ù‡Ø±",
        "Ø®ÙˆØ§Ù†Ø³Ø§Ø±",
        "Ø®ÙˆØ± Ùˆ Ø¨ÛŒØ§Ø¨Ø§Ù†Ú©",
        "Ø¯Ù‡Ø§Ù‚Ø§Ù†",
        "Ø³Ù…ÛŒØ±Ù…",
        "Ø´Ø§Ù‡ÛŒÙ†â€ŒØ´Ù‡Ø± Ùˆ Ù…ÛŒÙ…Ù‡",
        "Ø´Ù‡Ø±Ø¶Ø§",
        "ÙØ±ÛŒØ¯Ù†",
        "ÙØ±ÛŒØ¯ÙˆÙ†â€ŒØ´Ù‡Ø±",
        "ÙÙ„Ø§ÙˆØ±Ø¬Ø§Ù†",
        "Ú©Ø§Ø´Ø§Ù†",
        "Ú¯Ù„Ù¾Ø§ÛŒÚ¯Ø§Ù†",
        "Ù„Ù†Ø¬Ø§Ù†",
        "Ù…Ø¨Ø§Ø±Ú©Ù‡",
        "Ù†Ø§Ø¦ÛŒÙ†",
        "Ù†Ø¬Ùâ€ŒØ¢Ø¨Ø§Ø¯",
        "Ù†Ø·Ù†Ø²"
    ],
    "Ø§Ù„Ø¨Ø±Ø²": [
        "Ú©Ø±Ø¬",
        "Ø§Ø´ØªÙ‡Ø§Ø±Ø¯",
        "Ø³Ø§ÙˆØ¬Ø¨Ù„Ø§Øº",
        "Ø·Ø§Ù„Ù‚Ø§Ù†",
        "ÙØ±Ø¯ÛŒØ³",
        "Ù†Ø¸Ø±Ø¢Ø¨Ø§Ø¯"
    ],
    "Ø§ÛŒÙ„Ø§Ù…": [
        "Ø§ÛŒÙ„Ø§Ù…",
        "Ø¢Ø¨Ø¯Ø§Ù†Ø§Ù†",
        "Ø§ÛŒÙˆØ§Ù†",
        "Ø¨Ø¯Ø±Ù‡",
        "Ú†Ø±Ø¯Ø§ÙˆÙ„",
        "Ø¯Ø±Ù‡â€ŒØ´Ù‡Ø±",
        "Ø¯Ù‡Ù„Ø±Ø§Ù†",
        "Ø³ÛŒØ±ÙˆØ§Ù†",
        "Ù…Ù„Ú©Ø´Ø§Ù‡ÛŒ",
        "Ù…Ù‡Ø±Ø§Ù†"
    ],
    "Ø¨ÙˆØ´Ù‡Ø±": [
        "Ø¨ÙˆØ´Ù‡Ø±",
        "ØªÙ†Ú¯Ø³ØªØ§Ù†",
        "Ø¬Ù…",
        "Ø¯Ø´ØªØ³ØªØ§Ù†",
        "Ø¯Ø´ØªÛŒ",
        "Ø¯ÛŒØ±",
        "Ø¯ÛŒÙ„Ù…",
        "Ú©Ù†Ú¯Ø§Ù†",
        "Ú¯Ù†Ø§ÙˆÙ‡"
    ],
    "ØªÙ‡Ø±Ø§Ù†": [
        "ØªÙ‡Ø±Ø§Ù†",
        "Ø§Ø³Ù„Ø§Ù…Ø´Ù‡Ø±",
        "Ø¨Ù‡Ø§Ø±Ø³ØªØ§Ù†",
        "Ù¾Ø§Ú©Ø¯Ø´Øª",
        "Ù¾Ø±Ø¯ÛŒØ³",
        "Ù¾ÛŒØ´ÙˆØ§",
        "Ø¯Ù…Ø§ÙˆÙ†Ø¯",
        "Ø±Ø¨Ø§Ø·â€ŒÚ©Ø±ÛŒÙ…",
        "Ø±ÛŒ",
        "Ø´Ù…ÛŒØ±Ø§Ù†Ø§Øª",
        "Ø´Ù‡Ø±ÛŒØ§Ø±",
        "ÙÛŒØ±ÙˆØ²Ú©ÙˆÙ‡",
        "Ù‚Ø¯Ø³",
        "Ù‚Ø±Ú†Ú©",
        "Ù…Ù„Ø§Ø±Ø¯",
        "ÙˆØ±Ø§Ù…ÛŒÙ†"
    ],
    "Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ": [
        "Ø´Ù‡Ø±Ú©Ø±Ø¯",
        "Ø§Ø±Ø¯Ù„",
        "Ø¨Ø±ÙˆØ¬Ù†",
        "Ø¨Ù†",
        "Ø³Ø§Ù…Ø§Ù†",
        "ÙØ§Ø±Ø³Ø§Ù†",
        "Ú©ÙˆÙ‡Ø±Ù†Ú¯",
        "Ú©ÛŒØ§Ø±",
        "Ù„Ø±Ø¯Ú¯Ø§Ù†"
    ],
    "Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ": [
        "Ø¨ÛŒØ±Ø¬Ù†Ø¯",
        "Ø¨Ø´Ø±ÙˆÛŒÙ‡",
        "Ø®ÙˆØ³Ù",
        "Ø¯Ø±Ù…ÛŒØ§Ù†",
        "Ø²ÛŒØ±Ú©ÙˆÙ‡",
        "Ø³Ø±Ø§ÛŒØ§Ù†",
        "Ø³Ø±Ø¨ÛŒØ´Ù‡",
        "Ø·Ø¨Ø³",
        "ÙØ±Ø¯ÙˆØ³",
        "Ù‚Ø§Ø¦Ù†Ø§Øª",
        "Ù†Ù‡Ø¨Ù†Ø¯Ø§Ù†"
    ],
    "Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ": [
        "Ù…Ø´Ù‡Ø¯",
        "Ø¨Ø±Ø¯Ø³Ú©Ù†",
        "Ø¨Ø¬Ø³ØªØ§Ù†",
        "ØªØ§ÛŒØ¨Ø§Ø¯",
        "ØªØ±Ø¨Øª Ø¬Ø§Ù…",
        "ØªØ±Ø¨Øª Ø­ÛŒØ¯Ø±ÛŒÙ‡",
        "Ú†Ù†Ø§Ø±Ø§Ù†",
        "Ø®Ù„ÛŒÙ„â€ŒØ¢Ø¨Ø§Ø¯",
        "Ø®ÙˆØ§Ù",
        "Ø¯Ø±Ú¯Ø²",
        "Ø±Ø´ØªØ®ÙˆØ§Ø±",
        "Ø²Ø§ÙˆÙ‡",
        "Ø³Ø¨Ø²ÙˆØ§Ø±",
        "Ø³Ø±Ø®Ø³",
        "ÙØ±ÛŒÙ…Ø§Ù†",
        "Ù‚ÙˆÚ†Ø§Ù†",
        "Ú©Ø§Ø´Ù…Ø±",
        "Ú©Ù„Ø§Øª",
        "Ú¯Ù†Ø§Ø¨Ø§Ø¯",
        "Ù…Ù‡â€ŒÙˆÙ„Ø§Øª",
        "Ù†ÛŒØ´Ø§Ø¨ÙˆØ±"
    ],
    "Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ": [
        "Ø¨Ø¬Ù†ÙˆØ±Ø¯",
        "Ø§Ø³ÙØ±Ø§ÛŒÙ†",
        "Ø¬Ø§Ø¬Ø±Ù…",
        "Ø±Ø§Ø² Ùˆ Ø¬Ø±Ú¯Ù„Ø§Ù†",
        "Ø´ÛŒØ±ÙˆØ§Ù†",
        "ÙØ§Ø±ÙˆØ¬",
        "Ú¯Ø±Ù…Ù‡",
        "Ù…Ø§Ù†Ù‡ Ùˆ Ø³Ù…Ù„Ù‚Ø§Ù†"
    ],
    "Ø®ÙˆØ²Ø³ØªØ§Ù†": [
        "Ø§Ù‡ÙˆØ§Ø²",
        "Ø¢Ø¨Ø§Ø¯Ø§Ù†",
        "Ø§Ù…ÛŒØ¯ÛŒÙ‡",
        "Ø§Ù†Ø¯ÛŒÚ©Ø§",
        "Ø§Ù†Ø¯ÛŒÙ…Ø´Ú©",
        "Ø§ÛŒØ°Ù‡",
        "Ø¨Ø§Øºâ€ŒÙ…Ù„Ú©",
        "Ø¨Ø§ÙˆÛŒ",
        "Ø¨Ù‡Ø¨Ù‡Ø§Ù†",
        "Ø­Ù…ÛŒØ¯ÛŒÙ‡",
        "Ø®Ø±Ù…Ø´Ù‡Ø±",
        "Ø¯Ø²ÙÙˆÙ„",
        "Ø¯Ø´Øª Ø¢Ø²Ø§Ø¯Ú¯Ø§Ù†",
        "Ø±Ø§Ù…Ø´ÛŒØ±",
        "Ø±Ø§Ù…Ù‡Ø±Ù…Ø²",
        "Ø´Ø§Ø¯Ú¯Ø§Ù†",
        "Ø´ÙˆØ´",
        "Ø´ÙˆØ´ØªØ±",
        "Ú©Ø§Ø±ÙˆÙ†",
        "Ú¯ØªÙˆÙ†Ø¯",
        "Ù„Ø§Ù„ÛŒ",
        "Ù…Ø§Ù‡Ø´Ù‡Ø±",
        "Ù…Ø³Ø¬Ø¯Ø³Ù„ÛŒÙ…Ø§Ù†",
        "Ù‡ÙØªÚ©Ù„",
        "Ù‡Ù†Ø¯ÛŒØ¬Ø§Ù†",
        "Ù‡ÙˆÛŒØ²Ù‡"
    ],
    "Ø²Ù†Ø¬Ø§Ù†": [
        "Ø²Ù†Ø¬Ø§Ù†",
        "Ø§Ø¨Ù‡Ø±",
        "Ø§ÛŒØ¬Ø±ÙˆØ¯",
        "Ø®Ø¯Ø§Ø¨Ù†Ø¯Ù‡",
        "Ø®Ø±Ù…Ø¯Ø±Ù‡",
        "Ø³Ù„Ø·Ø§Ù†ÛŒÙ‡",
        "Ø·Ø§Ø±Ù…",
        "Ù…Ø§Ù‡Ù†Ø´Ø§Ù†"
    ],
    "Ø³Ù…Ù†Ø§Ù†": [
        "Ø³Ù…Ù†Ø§Ù†",
        "Ø¯Ø§Ù…ØºØ§Ù†",
        "Ø³Ø±Ø®Ù‡",
        "Ø´Ø§Ù‡Ø±ÙˆØ¯",
        "Ú¯Ø±Ù…Ø³Ø§Ø±",
        "Ù…Ù‡Ø¯ÛŒâ€ŒØ´Ù‡Ø±",
        "Ù…ÛŒØ§Ù…ÛŒ"
    ],
    "Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†": [
        "Ø²Ø§Ù‡Ø¯Ø§Ù†",
        "Ø§ÛŒØ±Ø§Ù†Ø´Ù‡Ø±",
        "Ú†Ø§Ø¨Ù‡Ø§Ø±",
        "Ø®Ø§Ø´",
        "Ø¯Ù„Ú¯Ø§Ù†",
        "Ø²Ø§Ø¨Ù„",
        "Ø²Ù‡Ú©",
        "Ø³Ø±Ø§ÙˆØ§Ù†",
        "Ø³Ø±Ø¨Ø§Ø²",
        "Ø³ÛŒØ¨ Ùˆ Ø³ÙˆØ±Ø§Ù†",
        "ÙÙ†ÙˆØ¬",
        "Ù‚ØµØ±Ù‚Ù†Ø¯",
        "Ú©Ù†Ø§Ø±Ú©",
        "Ù…Ù‡Ø±Ø³ØªØ§Ù†",
        "Ù…ÛŒØ±Ø¬Ø§ÙˆÙ‡",
        "Ù†ÛŒÚ©â€ŒØ´Ù‡Ø±"
    ],
    "ÙØ§Ø±Ø³": [
        "Ø´ÛŒØ±Ø§Ø²",
        "Ø¢Ø¨Ø§Ø¯Ù‡",
        "Ø§Ø±Ø³Ù†Ø¬Ø§Ù†",
        "Ø§Ø³ØªÙ‡Ø¨Ø§Ù†",
        "Ø§Ù‚Ù„ÛŒØ¯",
        "Ø¨ÙˆØ§Ù†Ø§Øª",
        "Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø¯",
        "Ø¬Ù‡Ø±Ù…",
        "Ø®Ø±Ø§Ù…Ù‡",
        "Ø®Ù†Ø¬",
        "Ø¯Ø§Ø±Ø§Ø¨",
        "Ø²Ø±ÛŒÙ†â€ŒØ¯Ø´Øª",
        "Ø³Ø±ÙˆØ³ØªØ§Ù†",
        "Ø³Ù¾ÛŒØ¯Ø§Ù†",
        "Ø´ÛŒØ±Ø§Ø²",
        "ÙØ±Ø§Ø´Ø¨Ù†Ø¯",
        "ÙØ³Ø§",
        "ÙÛŒØ±ÙˆØ²Ø¢Ø¨Ø§Ø¯",
        "Ù‚Ø§ÛŒÙ…ÛŒÙ‡",
        "Ù‚ÛŒØ± Ùˆ Ú©Ø§Ø±Ø²ÛŒÙ†",
        "Ú©Ø§Ø²Ø±ÙˆÙ†",
        "Ú¯Ø±Ø§Ø´",
        "Ù„Ø§Ø±Ø³ØªØ§Ù†",
        "Ù„Ø§Ù…Ø±Ø¯",
        "Ù…Ø±ÙˆØ¯Ø´Øª",
        "Ù…Ù…Ø³Ù†ÛŒ",
        "Ù†ÛŒâ€ŒØ±ÛŒØ²"
    ],
    "Ù‚Ø²ÙˆÛŒÙ†": [
        "Ù‚Ø²ÙˆÛŒÙ†",
        "Ø¢Ø¨ÛŒÚ©",
        "Ø§Ù„Ø¨Ø±Ø²",
        "Ø¨ÙˆØ¦ÛŒÙ†â€ŒØ²Ù‡Ø±Ø§",
        "ØªØ§Ú©Ø³ØªØ§Ù†",
        "Ø¢ÙˆØ¬"
    ],
    "Ù‚Ù…": [
        "Ù‚Ù…"
    ],
    "Ú©Ø±Ø¯Ø³ØªØ§Ù†": [
        "Ø³Ù†Ù†Ø¯Ø¬",
        "Ø¨Ø§Ù†Ù‡",
        "Ø¨ÛŒØ¬Ø§Ø±",
        "Ø¯ÛŒÙˆØ§Ù†Ø¯Ø±Ù‡",
        "Ø¯Ù‡Ú¯Ù„Ø§Ù†",
        "Ø³Ø±ÙˆØ¢Ø¨Ø§Ø¯",
        "Ø³Ù‚Ø²",
        "Ù‚Ø±ÙˆÙ‡",
        "Ú©Ø§Ù…ÛŒØ§Ø±Ø§Ù†",
        "Ù…Ø±ÛŒÙˆØ§Ù†"
    ],
    "Ú©Ø±Ù…Ø§Ù†": [
        "Ú©Ø±Ù…Ø§Ù†",
        "Ø§Ø±Ø²ÙˆØ¦ÛŒÙ‡",
        "Ø§Ù†Ø§Ø±",
        "Ø¨Ø§ÙØª",
        "Ø¨Ø±Ø¯Ø³ÛŒØ±",
        "Ø¨Ù…",
        "Ø¬ÛŒØ±ÙØª",
        "Ø±Ø§Ø¨Ø±",
        "Ø±Ø§ÙˆØ±",
        "Ø±ÙˆØ¯Ø¨Ø§Ø± Ø¬Ù†ÙˆØ¨",
        "Ø±ÛŒÚ¯Ø§Ù†",
        "Ø²Ø±Ù†Ø¯",
        "Ø³ÛŒØ±Ø¬Ø§Ù†",
        "Ø´Ù‡Ø±Ø¨Ø§Ø¨Ú©",
        "Ø¹Ù†Ø¨Ø±Ø¢Ø¨Ø§Ø¯",
        "ÙØ§Ø±ÛŒØ§Ø¨",
        "ÙÙ‡Ø±Ø¬",
        "Ù‚Ù„Ø¹Ù‡ Ú¯Ù†Ø¬",
        "Ú©ÙˆÙ‡Ø¨Ù†Ø§Ù†",
        "Ú©Ù‡Ù†ÙˆØ¬",
        "Ù…Ù†ÙˆØ¬Ø§Ù†"
    ],
    "Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡": [
        "Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡",
        "Ø§Ø³Ù„Ø§Ù…â€ŒØ¢Ø¨Ø§Ø¯ ØºØ±Ø¨",
        "Ù¾Ø§ÙˆÙ‡",
        "Ø«Ù„Ø§Ø« Ø¨Ø§Ø¨Ø§Ø¬Ø§Ù†ÛŒ",
        "Ø¬ÙˆØ§Ù†Ø±ÙˆØ¯",
        "Ø¯Ø§Ù„Ø§Ù‡Ùˆ",
        "Ø±ÙˆØ§Ù†Ø³Ø±",
        "Ø³Ø±Ù¾Ù„ Ø°Ù‡Ø§Ø¨",
        "Ø³Ù†Ù‚Ø±",
        "ØµØ­Ù†Ù‡",
        "Ù‚ØµØ± Ø´ÛŒØ±ÛŒÙ†",
        "Ú©Ø±Ù†Ø¯ ØºØ±Ø¨",
        "Ú©Ù†Ú¯Ø§ÙˆØ±",
        "Ú¯ÛŒÙ„Ø§Ù†ØºØ±Ø¨",
        "Ù‡Ø±Ø³ÛŒÙ†"
    ],
    "Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯": [
        "ÛŒØ§Ø³ÙˆØ¬",
        "Ø¨Ø§Ø´Øª",
        "Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯",
        "Ø¨Ù‡Ù…Ø¦ÛŒ",
        "Ú†Ø±Ø§Ù…",
        "Ø¯Ù†Ø§",
        "Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡",
        "Ú¯Ú†Ø³Ø§Ø±Ø§Ù†",
        "Ù„Ù†Ø¯Ù‡"
    ],
    "Ú¯Ù„Ø³ØªØ§Ù†": [
        "Ú¯Ø±Ú¯Ø§Ù†",
        "Ø¢Ø²Ø§Ø¯Ø´Ù‡Ø±",
        "Ø¢Ù‚â€ŒÙ‚Ù„Ø§",
        "Ø¨Ù†Ø¯Ø± Ú¯Ø²",
        "ØªØ±Ú©Ù…Ù†",
        "Ø±Ø§Ù…ÛŒØ§Ù†",
        "Ø¹Ù„ÛŒâ€ŒØ¢Ø¨Ø§Ø¯ Ú©ØªÙˆÙ„",
        "Ú©Ø±Ø¯Ú©ÙˆÛŒ",
        "Ú©Ù„Ø§Ù„Ù‡",
        "Ú¯Ø§Ù„ÛŒÚ©Ø´",
        "Ú¯Ù…ÛŒØ´Ø§Ù†",
        "Ú¯Ù†Ø¨Ø¯ Ú©Ø§ÙˆÙˆØ³",
        "Ù…Ø±Ø§ÙˆÙ‡â€ŒØªÙ¾Ù‡",
        "Ù…ÛŒÙ†ÙˆØ¯Ø´Øª"
    ],
    "Ú¯ÛŒÙ„Ø§Ù†": [
        "Ø±Ø´Øª",
        "Ø¢Ø³ØªØ§Ø±Ø§",
        "Ø¢Ø³ØªØ§Ù†Ù‡ Ø§Ø´Ø±ÙÛŒÙ‡",
        "Ø§Ù…Ù„Ø´",
        "Ø¨Ù†Ø¯Ø± Ø§Ù†Ø²Ù„ÛŒ",
        "ØªØ§Ù„Ø´",
        "Ø±ÙˆØ¯Ø¨Ø§Ø±",
        "Ø±ÙˆØ¯Ø³Ø±",
        "Ø±Ø¶ÙˆØ§Ù†Ø´Ù‡Ø±",
        "Ø³ÛŒØ§Ù‡Ú©Ù„",
        "Ø´ÙØª",
        "ØµÙˆÙ…Ø¹Ù‡â€ŒØ³Ø±Ø§",
        "ÙÙˆÙ…Ù†",
        "Ù„Ø§Ù‡ÛŒØ¬Ø§Ù†",
        "Ù„Ù†Ú¯Ø±ÙˆØ¯",
        "Ù…Ø§Ø³Ø§Ù„"
    ],
    "Ù„Ø±Ø³ØªØ§Ù†": [
        "Ø®Ø±Ù…â€ŒØ¢Ø¨Ø§Ø¯",
        "Ø§Ù„ÛŒÚ¯ÙˆØ¯Ø±Ø²",
        "Ø¨Ø±ÙˆØ¬Ø±Ø¯",
        "Ù¾Ù„â€ŒØ¯Ø®ØªØ±",
        "Ú†Ú¯Ù†ÛŒ",
        "Ø¯Ù„ÙØ§Ù†",
        "Ø¯ÙˆØ±ÙˆØ¯",
        "Ø±ÙˆÙ…Ø´Ú©Ø§Ù†",
        "Ø³Ù„Ø³Ù„Ù‡",
        "Ú©ÙˆÙ‡Ø¯Ø´Øª"
    ],
    "Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†": [
        "Ø³Ø§Ø±ÛŒ",
        "Ø¢Ù…Ù„",
        "Ø¨Ø§Ø¨Ù„",
        "Ø¨Ø§Ø¨Ù„Ø³Ø±",
        "Ø¨Ù‡Ø´Ù‡Ø±",
        "ØªÙ†Ú©Ø§Ø¨Ù†",
        "Ø¬ÙˆÛŒØ¨Ø§Ø±",
        "Ú†Ø§Ù„ÙˆØ³",
        "Ø±Ø§Ù…Ø³Ø±",
        "Ø³ÙˆØ§Ø¯Ú©ÙˆÙ‡",
        "Ø¹Ø¨Ø§Ø³â€ŒØ¢Ø¨Ø§Ø¯",
        "ÙØ±ÛŒØ¯ÙˆÙ†â€ŒÚ©Ù†Ø§Ø±",
        "Ù‚Ø§Ø¦Ù…â€ŒØ´Ù‡Ø±",
        "Ú©Ù„Ø§Ø±Ø¯Ø´Øª",
        "Ú¯Ù„ÙˆÚ¯Ø§Ù‡",
        "Ù…Ø­Ù…ÙˆØ¯Ø¢Ø¨Ø§Ø¯",
        "Ù…ÛŒØ§Ù†Ø¯Ø±ÙˆØ¯",
        "Ù†Ú©Ø§",
        "Ù†ÙˆØ±",
        "Ù†ÙˆØ´Ù‡Ø±"
    ],
    "Ù…Ø±Ú©Ø²ÛŒ": [
        "Ø§Ø±Ø§Ú©",
        "Ø¢Ø´ØªÛŒØ§Ù†",
        "ØªÙØ±Ø´",
        "Ø®Ù…ÛŒÙ†",
        "Ø¯Ù„ÛŒØ¬Ø§Ù†",
        "Ø²Ø±Ù†Ø¯ÛŒÙ‡",
        "Ø³Ø§ÙˆÙ‡",
        "Ø´Ø§Ø²Ù†Ø¯",
        "Ú©Ù…ÛŒØ¬Ø§Ù†",
        "Ù…Ø­Ù„Ø§Øª"
    ],
    "Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†": [
        "Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³",
        "Ø§Ø¨ÙˆÙ…ÙˆØ³ÛŒ",
        "Ø¨Ø³ØªÚ©",
        "Ø¨Ø´Ø§Ú¯Ø±Ø¯",
        "Ø¨Ù†Ø¯Ø± Ù„Ù†Ú¯Ù‡",
        "Ù¾Ø§Ø±Ø³ÛŒØ§Ù†",
        "Ø¬Ø§Ø³Ú©",
        "Ø­Ø§Ø¬ÛŒâ€ŒØ¢Ø¨Ø§Ø¯",
        "Ø®Ù…ÛŒØ±",
        "Ø±ÙˆØ¯Ø§Ù†",
        "Ø³ÛŒØ±ÛŒÚ©",
        "Ù‚Ø´Ù…",
        "Ù…ÛŒÙ†Ø§Ø¨"
    ],
    "Ù‡Ù…Ø¯Ø§Ù†": [
        "Ù‡Ù…Ø¯Ø§Ù†",
        "Ø§Ø³Ø¯Ø¢Ø¨Ø§Ø¯",
        "Ø¨Ù‡Ø§Ø±",
        "ØªÙˆÛŒØ³Ø±Ú©Ø§Ù†",
        "Ø±Ø²Ù†",
        "Ú©Ø¨ÙˆØ¯Ø±Ø¢Ù‡Ù†Ú¯",
        "Ù…Ù„Ø§ÛŒØ±",
        "Ù†Ù‡Ø§ÙˆÙ†Ø¯"
    ],
    "ÛŒØ²Ø¯": [
        "ÛŒØ²Ø¯",
        "Ø§Ø¨Ø±Ú©ÙˆÙ‡",
        "Ø§Ø±Ø¯Ú©Ø§Ù†",
        "Ø§Ø´Ú©Ø°Ø±",
        "Ø¨Ø§ÙÙ‚",
        "Ø¨Ù‡Ø§Ø¨Ø§Ø¯",
        "ØªÙØª",
        "Ø®Ø§ØªÙ…",
        "Ù…Ù‡Ø±ÛŒØ²",
        "Ù…ÛŒØ¨Ø¯"
    ]
}
};


document.addEventListener("DOMContentLoaded", function () {
            const provinceSelect = document.getElementById("province");
            const citySelect = document.getElementById("city");

            provinceSelect.addEventListener("change", function () {
              const selectedProvince = this.value;
              const cities = citiesByProvince[selectedProvince] || [];
            
              // Clear previous cities
              citySelect.innerHTML = "";
            
              cities.forEach(function (city) {
                const option = document.createElement("option");
                option.value = city;
                option.textContent = city;
                citySelect.appendChild(option);
              });
        });

        // Ù…Ù‚Ø¯Ø§Ø± Ø§ÙˆÙ„ÛŒÙ‡ (Ø¨Ø±Ø§ÛŒ Ø­Ø§Ù„Øª ÙˆÛŒØ±Ø§ÛŒØ´)
        if (initialProvince && initialCity) {
            provinceSelect.value = initialProvince;
            const cities = citiesByProvince[initialProvince] || [];
            cities.forEach(function (city) {
                const option = document.createElement("option");
                option.value = city;
                option.textContent = city;
                if (city === initialCity) {
                    option.selected = true;
                }
                citySelect.appendChild(option);
            });
        }
    });
    console.log(citiesByProvince["ØªÙ‡Ø±Ø§Ù†"]);


     function previewImage(event) {
        var output = document.getElementById('imagePreview');
        var file = event.target.files[0];
        var reader = new FileReader();
        
        reader.onload = function() {
            output.style.display = 'block';
            output.querySelector('img').src = reader.result;
        }
        
        if (file) {
            reader.readAsDataURL(file);
        }
    }

    // Ù„ØºÙˆ Ø§Ù†ØªØ®Ø§Ø¨ ØªØµÙˆÛŒØ±
    function removeImage() {
        const imagePath = document.getElementById('uploaded_image_path').value;
        
        if (imagePath) {
            fetch('/delete-uploaded-image', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ image_path: imagePath })
            })
            .then(res => res.json())
            .then(data => {
                if (data.success) {
                    console.log("âœ… ÙØ§ÛŒÙ„ ØªØµÙˆÛŒØ± Ø§Ø² Ø³Ø±ÙˆØ± Ø­Ø°Ù Ø´Ø¯.");
                } else {
                    console.error("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù ÙØ§ÛŒÙ„:", data.error);
                }
            })
            .catch(err => {
                console.error("âŒ Ø®Ø·Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ±:", err);
            });
        }
    
        // Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ UI
        const preview = document.getElementById('imagePreview');
        preview.style.display = 'none';
        preview.querySelector("img").src = '';
    
        const fileInput = document.getElementById('image');
        fileInput.value = '';
        if (fileInput.value) {
            const newInput = fileInput.cloneNode(true);
            fileInput.parentNode.replaceChild(newInput, fileInput);
            newInput.addEventListener('change', previewImage);
        }
    
        document.getElementById('uploaded_image_path').value = "";
        document.getElementById("submitBtn").disabled = true;
    }

</script>

{% endblock %}
