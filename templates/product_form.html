{% extends "base.html" %}

{% block content %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css" rel="stylesheet">
<style>
/* Ø¸Ø§Ù‡Ø± ØªØµÙˆÛŒØ± Ø¯Ø± Ù„ÛŒØ³Øª Ø¨Ø±Ù†Ø¯Ù‡Ø§ */
.logo-image {
    height: 20px;
    margin-left: 8px;
    vertical-align: middle;
}

/* ØªÙ†Ø¸ÛŒÙ… Ú©Ù„ÛŒ select2 */
.select2-container {
    width: 100% !important;
    max-width: 100%;
    direction: rtl;
    z-index: 9999;
}

/* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù†ØµÙÙ‡ Ø¯ÛŒØ¯Ù‡ Ø´Ø¯Ù† Ù…Ù†Ùˆ */
.select2-results__options {
    position: fixed;
    right: 10%;
    top: 40%;
    max-height: 30rem !important;
    width: 100% !important;
    width: auto !important;
    max-width: 100%;
    overflow-y: scroll;
    box-shadow: 0 0 1rem var(--light-green);
}
</style>

<div class="row justify-content-center mt-5 mb-5" id="page-content" class="page-transition">
    <div class="col-md-8 mb-5">
        <div class="card signuper mb-4">
            <div class="card-header" style="background: var(--dark-green);">
                <button class="btn header-tabs py-2 px-3 float-start">
                    <a href="{{ url_for('main.index') }}">
                        <i class="bi bi-arrow-left fs-3 txt-black"></i>
                    </a>
                </button>
                <h4 class="mb-0 txt-black">{% if product %}ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ø­ØµÙˆÙ„{% else %}Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯{% endif %}</h4>
            </div>
            <div class="card-body bg-very-black">
                <!-- ÙØ±Ù… Ø¨Ø¯ÙˆÙ† Ø¬Ø§ÙˆØ§ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª -->
                <form method="POST" id="productForm">
                    <div class="mb-3">
                        <label for="name" class="form-label txt-black">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</label>
                        <input type="text" class="inputs txt-black" placeholder="Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" id="name" name="name" 
                               value="{{ product.name if product else '' }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="description" class="form-label txt-black">ØªÙˆØ¶ÛŒØ­Ø§Øª</label>
                        <textarea class="inputs txt-black" placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø­ØµÙˆÙ„ Ùˆ ÙˆÛŒÚ˜Ú¯ÛŒ Ù‡Ø§ÛŒ Ø¢Ù†..." id="description" name="description" rows="3">{{ product.description if product else '' }}</textarea>
                    </div>
                    <div class="mb-3">
                        <label for="price" class="form-label txt-black">Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†)</label>

                        <input type="text" inputmode="numeric" class="inputs txt-black"
                               placeholder="Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" id="price" name="price"
                               value="{{ product.price if product else '' }}" required>

                        <small id="price-in-words" class="form-text mt-1 d-block text-success">&nbsp;</small>
                    </div>
                    <div class="mb-3">
                        <label for="category_id" class="form-label txt-black">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</label>
                        <select class="form-select txt-black" id="category_id" name="category_id" required>
                            <option value="" class="txt-black">Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</option>
                            {% for category in categories %}
                            <option class="txt-black" value="{{ category.id }}" {% if product and product.category_id == category.id %}selected{% endif %}>
                                {{ category.name }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="province" class="form-label txt-black">Ø§Ø³ØªØ§Ù†</label>
                        <select class="form-select txt-black" id="province" name="province" required>
                            <option class="txt-black" value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³ØªØ§Ù†</option>
                            {% for province in provinces %}
                            <option class="txt-black" value="{{ province }}" {% if product and product.address.split('-')[0] == province %}selected{% endif %}>
                                {{ province }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="city" class="form-label txt-black">Ø´Ù‡Ø±</label>
                        <select class="form-select txt-black" id="city" name="city" required>
                            <option class="txt-black" value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù‡Ø±</option>
                            {% if product %}
                                {% for city in citiesByProvince[product.address.split('-')[0]] %}
                                <option class="txt-black" value="{{ city }}" {% if product.address.split('-')[1] == city %}selected{% endif %}>
                                    {{ city }}
                                </option>
                                {% endfor %}
                            {% endif %}
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="postal_code" class="form-label txt-black">Ú©Ø¯ Ù¾Ø³ØªÛŒ</label>
                        <input type="text" class="inputs txt-black" placeholder="Ú©Ø¯ Ù¾Ø³ØªÛŒ Ù…Ø­Ù„ ÙØ±ÙˆØ´ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)" id="postal_code" name="postal_code" 
                               value="{{ product.postal_code if product else '' }}">
                    </div>


                   <div class="mb-3">
                        <label for="brand" class="form-label txt-black">Ø¨Ø±Ù†Ø¯</label>
                        <select class="form-select txt-black" id="brand-select" name="brand" required>
                            <option class="txt-black" value="" disabled {% if not product %}selected{% endif %}>Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø±Ù†Ø¯</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/bosch.png') }}" value="bosch" {% if product and product.brand == "bosch" %}selected{% endif %}>Bosch/Ø¨ÙˆØ´</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/Makita-Logo.png') }}" value="makita" {% if product and product.brand == "makita" %}selected{% endif %}>Makita/Ù…Ø§Ú©ÛŒØªØ§</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/dewalt.png') }}" value="dewalt" {% if product and product.brand == "dewalt" %}selected{% endif %}>DeWalt/Ø¯ÛŒÙˆØ§Ù„Øª</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/Milwaukee-Logo.png') }}" value="milwaukee" {% if product and product.brand == "milwaukee" %}selected{% endif %}>Milwaukee/Ù…ÛŒÙ„ÙˆØ§Ú©ÛŒ</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/Hilti-Logo-700x394.png') }}" value="hilti" {% if product and product.brand == "hilti" %}selected{% endif %}>Hilti/Ù‡ÛŒÙ„ØªÛŒ</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/Stanley-Logo.png') }}" value="stanley" {% if product and product.brand == "stanley" %}selected{% endif %}>Stanley/Ø§Ø³ØªÙ†Ù„ÛŒ</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/Brand-Ingersoll_Rand_Logo.png') }}" value="ingersoll_rand" {% if product and product.brand == "ingersoll_rand" %}selected{% endif %}>Ingersoll Rand/Ø§ÛŒÙ†Ú¯Ø±Ø³ÙˆÙ„ Ø±Ù†Ø¯</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/black.png') }}" value="black_decker" {% if product and product.brand == "black_decker" %}selected{% endif %}>Black & Decker/Ø¨Ù„Ú© Ø§Ù†Ø¯ Ø¯Ú©Ø±</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/metabo-logo-vector-removebg-preview.png') }}" value="metabo" {% if product and product.brand == "metabo" %}selected{% endif %}>Metabo/Ù…ØªØ§Ø¨Ùˆ</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/hitachi.png') }}" value="hitachi" {% if product and product.brand == "hitachi" %}selected{% endif %}>Hitachi/Ù‡ÛŒØªØ§Ú†ÛŒ</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/ridgid.png') }}" value="ridgid" {% if product and product.brand == "ridgid" %}selected{% endif %}>Ridgid/Ø±ÛŒØ¬ÛŒØ¯</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/Ryobi_company_logo.svg.png') }}" value="ryobi" {% if product and product.brand == "ryobi" %}selected{% endif %}>Ryobi/Ø±ÛŒÙˆØ¨ÛŒ</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/Festool-logo.png') }}" value="festool" {% if product and product.brand == "festool" %}selected{% endif %}>Festool/ÙØ³ØªÙˆÙ„</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/einhell.png') }}" value="einhell" {% if product and product.brand == "einhell" %}selected{% endif %}>Einhell/Ø§ÛŒÙ†Ù‡Ù„</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/ronix.png') }}" value="ronix" {% if product and product.brand == "ronix" %}selected{% endif %}>Ronix/Ø±ÙˆÙ†ÛŒÚ©Ø³</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/ingco.png') }}" value="ingco" {% if product and product.brand == "ingco" %}selected{% endif %}>INGCO/Ø§ÛŒÙ†Ú©Ùˆ</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/total.png') }}" value="total" {% if product and product.brand == "total" %}selected{% endif %}>TOTAL/ØªÙˆØªØ§Ù„</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/tactix.png') }}" value="tactix" {% if product and product.brand == "tactix" %}selected{% endif %}>Tactix/ØªÚ©ØªÛŒÚ©Ø³</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/kress.png') }}" value="kress" {% if product and product.brand == "kress" %}selected{% endif %}>Kress/Ú©Ø±Ø³</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/skil.png') }}" value="skil" {% if product and product.brand == "skil" %}selected{% endif %}>Skil/Ø§Ø³Ú©ÛŒÙ„</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/aeg.png') }}" value="AEG" {% if product and product.brand == "AEG" %}selected{% endif %}>AEG/Ø¢Ø§Ú¯</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/wurth.png') }}" value="wurth" {% if product and product.brand == "wurth" %}selected{% endif %}>wurth/ÙˆÙˆØ±Ø«</option>
                            <option class="txt-black" data-logo="{{ url_for('static', filename='images/new_1000-removebg-preview.png') }}" value="wiha" {% if product and product.brand == "wiha" %}selected{% endif %}>wiha/ÙˆÛŒÙ‡Ø§</option>
                        </select>
                    </div>


                    <div class="mb-3">
                        <label for="product_type" class="form-label txt-black">Ù†ÙˆØ¹ Ù…Ø­ØµÙˆÙ„</label>
                        <select class="form-select txt-black" id="product_type" name="product_type" required>
                            <option class="txt-black" value="NEW" {% if product and product.product_type.name == "NEW" %}selected{% endif %}>Ù†Ùˆ</option>
                            <option class="txt-black" value="STOCK" {% if product and product.product_type.name == "STOCK" %}selected{% endif %}>Ø§Ø³ØªÙˆÚ©</option>
                            <option class="txt-black" value="USED" {% if product and product.product_type.name == "USED" %}selected{% endif %}>Ø¯Ø³Øª Ø¯ÙˆÙ…</option>
                            <option class="txt-black" value="NEEDS_REPAIR" {% if product and product.product_type.name == "NEEDS_REPAIR" %}selected{% endif %}>Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¹Ù…ÛŒØ± Ø¬Ø²Ø¦ÛŒ</option>
                        </select>
                    </div>


<div class="mb-3">
    <label for="image" class="form-label txt-black">ØªØµÙˆÛŒØ± Ù…Ø­ØµÙˆÙ„ (Ø­Ø¯Ø§Ú©Ø«Ø± Û³ Ø¹Ø¯Ø¯)</label>
    <p class="text-warning">ØªØ±Ø¬ÛŒÙ‡Ø§ Ø¹Ú©Ø³ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ÛŒ 1 Ø¯Ø± 1 (Ù…Ø±Ø¨Ø¹) Ø¨Ø§Ø´Ø¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ØªØ± Ø¯Ø± Ù¾Ù„ØªÙØ±Ù…</p>

    <div class="custom-file">
        <input type="file" class="form-control-file d-none" id="image" name="image" accept="image/*" multiple onchange="handleFileSelect(this)">
        <div class="image-upload-box" onclick="document.getElementById('image').click();">
            <span class="image-upload-plus">+</span>
            <p class="image-upload-text">Ø§Ù†ØªØ®Ø§Ø¨ Ø¹Ú©Ø³â€ŒÙ‡Ø§</p>
        </div>
    </div>

    <input type="hidden" name="uploaded_image_paths" id="uploaded_image_paths"
        value="{% if product %}{% for img in product.images %}{{ img.image_path }}{% if not loop.last %},{% endif %}{% else %}{{ product.image_path or '' }}{% endfor %}{% endif %}">

    <div id="image-previews" class="d-flex flex-wrap mt-2">
        {% if product %}
            {% if product.images %}
                {% for img in product.images %}
                    <div class="m-1 position-relative" data-filename="{{ img.image_path }}">
                        <img src="{{ url_for('static', filename='uploads/' + img.image_path) }}" class="img-thumbnail" style="height: 150px; width: auto;">
                        <button type="button" class="btn btn-danger btn-sm position-absolute top-0 end-0" onclick="removePreview(this)">&times;</button>
                    </div>
                {% endfor %}
            {% elif product.image_path %}
                <div class="m-1 position-relative" data-filename="{{ product.image_path }}">
                    <img src="{{ url_for('static', filename='uploads/' + product.image_path) }}" class="img-thumbnail" style="height: 150px; width: auto;">
                    <button type="button" class="btn btn-danger btn-sm position-absolute top-0 end-0" onclick="removePreview(this)">&times;</button>
                </div>
            {% endif %}
        {% endif %}
    </div>

    <div class="progress mt-2" id="uploadProgress" style="display: none;">
        <div class="progress-bar bg-success" role="progressbar" style="width: 0%;" aria-valuemin="0" aria-valuemax="100" id="uploadProgressBar">0%</div>
        <p class="txt-black">Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³</p>
    </div>
</div>



                    <div class="d-grid">
                        <button type="submit" id="submitBtn" class="btn btn-danger header-tabs py-3 txt-black" disabled>
                            {% if product %}Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­ØµÙˆÙ„{% else %}Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­ØµÙˆÙ„{% endif %}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

</div>
    </div>
</div>

<div id="cropper-modal" style="display: none; position: fixed; z-index: 10000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.7);">
    <div style="background-color: #1e1e1e; color: white; margin: 5% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 600px; border-radius: 8px; text-align: center;">
        <h4 style="margin-bottom: 20px;">Ø¨Ø±Ø´ ØªØµÙˆÛŒØ± (Ù†Ø³Ø¨Øª 1x1)</h4>
        
        <div>
            <img id="image-to-be-cropped" style="max-width: 100%;">
        </div>
        
        <div style="margin-top: 20px;">
            <button id="crop-and-upload-btn" class="btn btn-success py-2 px-4">Ø¨Ø±Ø´ Ùˆ Ø¢Ù¾Ù„ÙˆØ¯</button>
            <button id="cancel-crop-btn" class="btn btn-secondary py-2 px-4">Ø§Ù†ØµØ±Ø§Ù</button>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<script>
    $(document).ready(function () {

        function formatBrand(brand) {
            if (!brand.id) return brand.text;

            var logoPath = $(brand.element).data('logo');
            if (!logoPath) return brand.text;

            return $(
                '<span><img src="' + logoPath + '" class="logo-image" /> ' + brand.text + '</span>'
            );
        }

        $('#brand-select').select2({
            templateResult: formatBrand,
            templateSelection: formatBrand,
            minimumResultsForSearch: Infinity,
            width: '100%', // ğŸ‘ˆ Ø­Ù„ Ù…Ø´Ú©Ù„ Ø¹Ø±Ø¶ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„
            dropdownAutoWidth: true,
            dir: "rtl", // ğŸ‘ˆ ØªÙ†Ø¸ÛŒÙ… Ø±Ø§Ø³Øªâ€ŒÚ†ÛŒÙ† Ø¨ÙˆØ¯Ù†
            dropdownParent: $('#brand-select').parent() // ğŸ‘ˆ Ø­Ù„ Ù…Ø´Ú©Ù„ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø± ØµÙØ­Ù‡ Ùˆ Ù…ÙˆØ¨Ø§ÛŒÙ„
        });
    });
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const priceInput = document.getElementById('price');
    const priceWordsElement = document.getElementById('price-in-words');

    // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ø¹Ø¯Ø¯ Ø¨Ù‡ Ø­Ø±ÙˆÙ ÙØ§Ø±Ø³ÛŒ
    function numberToWords(num) {
        if (num === 0) return 'ØµÙØ±';
        if (!num) return '';

        const ones = ['', 'ÛŒÚ©', 'Ø¯Ùˆ', 'Ø³Ù‡', 'Ú†Ù‡Ø§Ø±', 'Ù¾Ù†Ø¬', 'Ø´Ø´', 'Ù‡ÙØª', 'Ù‡Ø´Øª', 'Ù†Ù‡'];
        const teens = ['Ø¯Ù‡', 'ÛŒØ§Ø²Ø¯Ù‡', 'Ø¯ÙˆØ§Ø²Ø¯Ù‡', 'Ø³ÛŒØ²Ø¯Ù‡', 'Ú†Ù‡Ø§Ø±Ø¯Ù‡', 'Ù¾Ø§Ù†Ø²Ø¯Ù‡', 'Ø´Ø§Ù†Ø²Ø¯Ù‡', 'Ù‡ÙØ¯Ù‡', 'Ù‡Ø¬Ø¯Ù‡', 'Ù†ÙˆØ²Ø¯Ù‡'];
        const tens = ['', '', 'Ø¨ÛŒØ³Øª', 'Ø³ÛŒ', 'Ú†Ù‡Ù„', 'Ù¾Ù†Ø¬Ø§Ù‡', 'Ø´ØµØª', 'Ù‡ÙØªØ§Ø¯', 'Ù‡Ø´ØªØ§Ø¯', 'Ù†ÙˆØ¯'];
        const hundreds = ['', 'ÛŒÚ©ØµØ¯', 'Ø¯ÙˆÛŒØ³Øª', 'Ø³ÛŒØµØ¯', 'Ú†Ù‡Ø§Ø±ØµØ¯', 'Ù¾Ø§Ù†ØµØ¯', 'Ø´Ø´ØµØ¯', 'Ù‡ÙØªØµØ¯', 'Ù‡Ø´ØªØµØ¯', 'Ù†Ù‡ØµØ¯'];
        const scales = ['', 'Ù‡Ø²Ø§Ø±', 'Ù…ÛŒÙ„ÛŒÙˆÙ†', 'Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯', 'ØªØ±ÛŒÙ„ÛŒÙˆÙ†'];

        function convertThreeDigits(n) {
            let word = '';
            const h = Math.floor(n / 100);
            const t = Math.floor((n % 100) / 10);
            const o = n % 10;

            if (h > 0) {
                word += hundreds[h];
                if (t > 0 || o > 0) word += ' Ùˆ ';
            }

            if (t === 1) {
                word += teens[o];
            } else {
                if (t > 0) {
                    word += tens[t];
                    if (o > 0) word += ' Ùˆ ';
                }
                if (o > 0) {
                    word += ones[o];
                }
            }
            return word;
        }

        const numStr = String(num);
        let words = [];
        let chunkCount = Math.ceil(numStr.length / 3);

        for (let i = 0; i < chunkCount; i++) {
            const startIndex = numStr.length - (i + 1) * 3;
            const endIndex = numStr.length - i * 3;
            const chunk = parseInt(numStr.substring(startIndex < 0 ? 0 : startIndex, endIndex));

            if (chunk > 0) {
                const chunkWord = convertThreeDigits(chunk);
                words.push(chunkWord + (i > 0 ? ' ' + scales[i] : ''));
            }
        }
        
        return words.reverse().join(' Ùˆ ');
    }


    // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¨Ø§Ø± ØªØ§ÛŒÙ¾ Ú©Ø±Ø¯Ù† Ø¯Ø± ÙÛŒÙ„Ø¯ Ù‚ÛŒÙ…Øª
    priceInput.addEventListener('input', function(e) {
        // 1. Ø¯Ø±ÛŒØ§ÙØª Ù…Ù‚Ø¯Ø§Ø± Ø®Ø§Ù… Ùˆ Ø­Ø°Ù Ú©Ø§Ù…Ø§Ù‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ
        let rawValue = e.target.value.replace(/,/g, '');
        
        // Ø§Ú¯Ø± Ù…Ù‚Ø¯Ø§Ø± ØºÛŒØ±Ø¹Ø¯Ø¯ÛŒ Ø¨ÙˆØ¯ØŒ Ø¢Ù† Ø±Ø§ Ù¾Ø§Ú© Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
        if (isNaN(rawValue)) {
            rawValue = rawValue.replace(/\D/g, '');
        }

        // 2. ÙØ±Ù…Øªâ€ŒØ¯Ù‡ÛŒ Ø¹Ø¯Ø¯ Ø¨Ø§ Ø¬Ø¯Ø§Ú©Ù†Ù†Ø¯Ù‡ Ø³Ù‡â€ŒØ±Ù‚Ù…ÛŒ
        const formattedValue = rawValue.replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        
        // 3. Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† Ù…Ù‚Ø¯Ø§Ø± ÙØ±Ù…Øªâ€ŒØ´Ø¯Ù‡ Ø¯Ø± ÙÛŒÙ„Ø¯
        e.target.value = formattedValue;

        // 4. ØªØ¨Ø¯ÛŒÙ„ Ø¹Ø¯Ø¯ Ø¨Ù‡ Ø­Ø±ÙˆÙ Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¢Ù†
        const numberValue = parseInt(rawValue, 10);
        if (numberValue > 0) {
            priceWordsElement.textContent = numberToWords(numberValue) + ' ØªÙˆÙ…Ø§Ù†';
        } else {
            priceWordsElement.innerHTML = '&nbsp;'; // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù…ØªÙ† Ø¯Ø± ØµÙˆØ±Øª Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯Ù†
        }
    });
    
    // Ø§Ø¬Ø±Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ±ÛŒ Ú©Ù‡ Ø§Ø² Ù‚Ø¨Ù„ Ø¯Ø± ÙÛŒÙ„Ø¯ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ù†Ø¯
    if(priceInput.value){
        priceInput.dispatchEvent(new Event('input'));
    }

});
</script>
<script>
    // Ù…Ù‚Ø§Ø¯ÛŒØ± Ø§Ø² Jinja Ø¯Ø±ÙˆÙ† Ø¬Ø§ÙˆØ§Ø§Ø³Ú©Ø±ÛŒÙ¾Øª:
    const initialProvince = "{{ product.address.split('-')[0] if product else '' }}";
    const initialCity = "{{ product.address.split('-')[1] if product else '' }}";
</script>
<style>
    .image-upload-box {
        width: 120px;
        height: 120px;
        border: 2px dashed #0d6efd;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        text-align: center;
    }

    .image-upload-plus {
        font-size: 40px;
        color: #0d6efd;
    }

    .image-upload-text {
        font-size: 12px;
        color: #0d6efd;
        margin-top: 5px;
    }

    .image-upload-box:hover {
        background-color: var(--dark-green);
    }

    .image-upload-box:active {
        background-color: var(--black-color);
    }
    .progress {
    height: 20px;
    background-color: #333;
    border-radius: 10px;
    overflow: hidden;
    color: white;
}

.progress-bar {
    line-height: 20px;
    font-size: 12px;
    transition: width 0.4s ease;
}
#uploadProgress {
    display: block;
    height: 20px !important;
    background-color: #444;
    border: 1px solid #999;
}

#uploadProgressBar {
    background-color: #28a745;
    width: 0%;
    height: 100%;
    color: white;
    text-align: center;
}
</style>
<script>
    // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† ÙØ±Ù… Ø¨Ø§ id Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡
    const loginForm = document.getElementById('productForm');

    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÛŒÚ© event listener Ø¨Ø±Ø§ÛŒ Ø±ÙˆÛŒØ¯Ø§Ø¯ 'submit' ÙØ±Ù…
    loginForm.addEventListener('submit', function() {
        // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ submit Ø¯Ø± Ø¯Ø§Ø®Ù„ Ù‡Ù…ÛŒÙ† ÙØ±Ù…
        const submitButton = loginForm.querySelector('button[type="submit"]');
        
        if (submitButton) {
            // Ø­Ø§Ù„Ø§ Ø¯Ú©Ù…Ù‡ Ø±Ø§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù‡ Ùˆ Ø§Ø³Ù¾ÛŒÙ†Ø± Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…
            submitButton.disabled = true;
            submitButton.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...';
        }
    });
</script>


<script>
document.addEventListener('DOMContentLoaded', function () {
    // --- Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø¢Ù¾Ù„ÙˆØ¯ Ùˆ Ø¨Ø±Ø´ ---
    const fileInput = document.getElementById('image');
    const imagePreviews = document.getElementById('image-previews');
    const uploadedImagePathsInput = document.getElementById('uploaded_image_paths');
    const submitBtn = document.getElementById("submitBtn");

    // --- Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Modal Ùˆ Cropper ---
    const cropperModal = document.getElementById('cropper-modal');
    const imageToBeCropped = document.getElementById('image-to-be-cropped');
    const cropAndUploadBtn = document.getElementById('crop-and-upload-btn');
    const cancelCropBtn = document.getElementById('cancel-crop-btn');
    let cropper = null;
    let originalFile = null; // Ø¨Ø±Ø§ÛŒ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ Ø§ØµÙ„ÛŒ Ø¬Ù‡Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù†Ø§Ù… Ø¢Ù†

    // Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ Ù¾ÛŒØ´â€ŒÙ†Ù…Ø§ÛŒØ´â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø­Ø§Ù„Øª ÙˆÛŒØ±Ø§ÛŒØ´
    if (uploadedImagePathsInput.value) {
        const existingPaths = uploadedImagePathsInput.value.split(',').filter(p => p);
        existingPaths.forEach(path => addPreview(path));
    }

    // --- ØªØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ Ú©Ù‡ Ø¨Ø§ Ø§Ù†ØªØ®Ø§Ø¨ ÙØ§ÛŒÙ„ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ ---
    window.handleFileSelect = function(input) {
        if (!input.files || input.files.length === 0) return;

        const existingImagesCount = imagePreviews.querySelectorAll('div[data-filename]').length;
        if (input.files.length + existingImagesCount > 3) {
            alert("Ø´Ù…Ø§ Ø­Ø¯Ø§Ú©Ø«Ø± Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Û³ ØªØµÙˆÛŒØ± Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.");
            input.value = '';
            return;
        }

        // ÙÙ‚Ø· Ø§ÙˆÙ„ÛŒÙ† ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø¨Ø±Ø´ Ø¨Ø§Ø² Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
        originalFile = input.files[0]; 
        
        if (originalFile && originalFile.type.startsWith('image/')) {
            const reader = new FileReader();
            reader.onload = function(e) {
                imageToBeCropped.src = e.target.result;
                cropperModal.style.display = 'block';

                if (cropper) {
                    cropper.destroy();
                }

                // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Cropper Ø¨Ø§ Ù†Ø³Ø¨Øª Ù…Ø±Ø¨Ø¹ÛŒ
                cropper = new Cropper(imageToBeCropped, {
                    aspectRatio: 1 / 1,
                    viewMode: 1,
                    background: false,
                    autoCropArea: 0.8,
                });
            };
            reader.readAsDataURL(originalFile);
        }
        input.value = ''; // ÙˆØ±ÙˆØ¯ÛŒ Ø±Ø§ Ø®Ø§Ù„ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªØ§ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø¹Ø¯ÛŒ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
    };

    // --- Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¯Ú©Ù…Ù‡ "Ø¨Ø±Ø´ Ùˆ Ø¢Ù¾Ù„ÙˆØ¯" ---
    cropAndUploadBtn.addEventListener('click', function() {
        if (!cropper) return;

        // Ø¯Ø±ÛŒØ§ÙØª ØªØµÙˆÛŒØ± Ø¨Ø±Ø´ Ø®ÙˆØ±Ø¯Ù‡ Ø¨Ø§ Ú©ÛŒÙÛŒØª Ù…Ù†Ø§Ø³Ø¨
        const canvas = cropper.getCroppedCanvas({
            width: 800,
            height: 800,
            imageSmoothingQuality: 'high',
        });

        canvas.toBlob(function(blob) {
            const formData = new FormData();
            // ÙØ§ÛŒÙ„ blob Ø¨Ø±Ø´ Ø®ÙˆØ±Ø¯Ù‡ Ø±Ø§ Ø¨Ø§ Ù†Ø§Ù… ÙØ§ÛŒÙ„ Ø§ØµÙ„ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
            formData.append('image', blob, originalFile.name);
            uploadToServer(formData); // ØªØ§Ø¨Ø¹ Ø¢Ù¾Ù„ÙˆØ¯ Ù…ÙˆØ¬ÙˆØ¯ Ø´Ù…Ø§ Ø±Ø§ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…

        }, 'image/jpeg', 0.85); // ÙØ´Ø±Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø§ Ú©ÛŒÙÛŒØª Û¸ÛµÙª

        // Ø¨Ø³ØªÙ† Modal Ùˆ Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ
        cropperModal.style.display = 'none';
        cropper.destroy();
        cropper = null;
    });

    // --- Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¯Ú©Ù…Ù‡ "Ø§Ù†ØµØ±Ø§Ù" ---
    cancelCropBtn.addEventListener('click', function() {
        cropperModal.style.display = 'none';
        if (cropper) {
            cropper.destroy();
            cropper = null;
        }
    });

    // --- ØªØ§Ø¨Ø¹ Ø¢Ù¾Ù„ÙˆØ¯ Ø¨Ù‡ Ø³Ø±ÙˆØ± (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯) ---
    function uploadToServer(formData) {
        const progressContainer = document.getElementById("uploadProgress");
        const progressBar = document.getElementById("uploadProgressBar");
        if (submitBtn) submitBtn.disabled = true;

        progressContainer.style.display = "block";
        progressBar.style.width = "0%";
        progressBar.innerText = "0%";

        const xhr = new XMLHttpRequest();
        xhr.upload.addEventListener("progress", function(e) {
            if (e.lengthComputable) {
                const percent = Math.round((e.loaded / e.total) * 100);
                progressBar.style.width = percent + "%";
                progressBar.innerText = percent + "%";
            }
        });

        xhr.onreadystatechange = function() {
            if (xhr.readyState === XMLHttpRequest.DONE) {
                progressContainer.style.display = "none";
                if (submitBtn) submitBtn.disabled = false;

                if (xhr.status === 200) {
                    try {
                        const data = JSON.parse(xhr.responseText);
                        if (data.image_path) {
                            addPreview(data.image_path);
                            updateHiddenInput();
                        } else {
                            alert("Ù¾Ø§Ø³Ø® Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø² Ø³Ø±ÙˆØ±");
                        }
                    } catch (err) {
                        alert("Ø®Ø·Ø§ Ø¯Ø± ØªØ¬Ø²ÛŒÙ‡ Ù¾Ø§Ø³Ø® Ø³Ø±ÙˆØ±");
                    }
                } else {
                    alert("Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ± Ø¨Ø±Ù‚Ø±Ø§Ø± Ù†Ø´Ø¯. ÙˆØ¶Ø¹ÛŒØª: " + xhr.status);
                }
            }
        };

        xhr.open("POST", "/upload-image", true);
        xhr.send(formData);
    }
    
    // --- ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯) ---
    function addPreview(imagePath) {
        const wrapper = document.createElement('div');
        wrapper.className = 'm-1 position-relative';
        wrapper.setAttribute('data-filename', imagePath);

        const img = document.createElement('img');
        img.src = `/static/uploads/${imagePath}`;
        img.className = 'img-thumbnail';
        img.style.height = '150px';
        img.style.width = 'auto';

        const removeBtn = document.createElement('button');
        removeBtn.type = 'button';
        removeBtn.className = 'btn btn-danger btn-sm position-absolute top-0 end-0';
        removeBtn.innerHTML = '&times;';
        removeBtn.onclick = function() { removePreview(removeBtn); };

        wrapper.appendChild(img);
        wrapper.appendChild(removeBtn);
        imagePreviews.appendChild(wrapper);
    }

    window.removePreview = function(buttonElement) {
        const wrapper = buttonElement.parentElement;
        if (wrapper) {
            wrapper.remove();
            updateHiddenInput();
        }
    }

    function updateHiddenInput() {
        const images = imagePreviews.querySelectorAll('div[data-filename]');
        const paths = Array.from(images).map(div => div.getAttribute('data-filename'));
        uploadedImagePathsInput.value = paths.join(',');
    }
});
</script>
<script>
    const toEnglishDigits = (str) => str.replace(/[Û°-Û¹]/g, d => 'Û°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹'.indexOf(d));
    
    document.getElementById('price').addEventListener('input', function(e) {
        this.value = toEnglishDigits(this.value);
    });
  </script>
<script>
    // Ù„ÛŒØ³Øª Ø´Ù‡Ø±Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù‡Ø± Ø§Ø³ØªØ§Ù†
    if (!window.citiesByProvince) {
        window.citiesByProvince = {
    "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ": [
        "ØªØ¨Ø±ÛŒØ²",
        "Ø§Ø³Ú©Ùˆ",
        "Ø§Ù‡Ø±",
        "Ø¨Ø³ØªØ§Ù†â€ŒØ¢Ø¨Ø§Ø¯",
        "Ø¨Ù†Ø§Ø¨",
        "Ø¬Ù„ÙØ§",
        "Ú†Ø§Ø±Ø§ÙˆÛŒÙ…Ø§Ù‚",
        "Ø®Ø¯Ø§Ø¢ÙØ±ÛŒÙ†",
        "Ø³Ø±Ø§Ø¨",
        "Ø´Ø¨Ø³ØªØ±",
        "Ø¹Ø¬Ø¨â€ŒØ´ÛŒØ±",
        "Ú©Ù„ÛŒØ¨Ø±",
        "Ù…Ø±Ø§ØºÙ‡",
        "Ù…Ø±Ù†Ø¯",
        "Ù…Ù„Ú©Ø§Ù†",
        "Ù…ÛŒØ§Ù†Ù‡",
        "ÙˆØ±Ø²Ù‚Ø§Ù†",
        "Ù‡Ø±ÛŒØ³",
        "Ù‡Ø´ØªØ±ÙˆØ¯"
    ],
    "Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ": [
        "Ø§Ø±ÙˆÙ…ÛŒÙ‡",
        "Ø§Ø´Ù†ÙˆÛŒÙ‡",
        "Ø¨ÙˆÚ©Ø§Ù†",
        "Ù¾Ù„Ø¯Ø´Øª",
        "Ù¾ÛŒØ±Ø§Ù†Ø´Ù‡Ø±",
        "ØªÚ©Ø§Ø¨",
        "Ú†Ø§Ù„Ø¯Ø±Ø§Ù†",
        "Ú†Ø§ÛŒÙ¾Ø§Ø±Ù‡",
        "Ø®ÙˆÛŒ",
        "Ø³Ø±Ø¯Ø´Øª",
        "Ø³Ù„Ù…Ø§Ø³",
        "Ø´Ø§Ù‡ÛŒÙ†â€ŒØ¯Ú˜",
        "Ø´ÙˆØ·",
        "Ù…Ø§Ú©Ùˆ",
        "Ù…Ù‡Ø§Ø¨Ø§Ø¯",
        "Ù…ÛŒØ§Ù†Ø¯ÙˆØ¢Ø¨",
        "Ù†Ù‚Ø¯Ù‡"
    ],
    "Ø§Ø±Ø¯Ø¨ÛŒÙ„": [
        "Ø§Ø±Ø¯Ø¨ÛŒÙ„",
        "Ø¨ÛŒÙ„Ù‡â€ŒØ³ÙˆØ§Ø±",
        "Ù¾Ø§Ø±Ø³â€ŒØ¢Ø¨Ø§Ø¯",
        "Ø®Ù„Ø®Ø§Ù„",
        "Ø³Ø±Ø¹ÛŒÙ†",
        "Ú©ÙˆØ«Ø±",
        "Ú¯Ø±Ù…ÛŒ",
        "Ù…Ø´Ú¯ÛŒÙ†â€ŒØ´Ù‡Ø±",
        "Ù†Ù…ÛŒÙ†",
        "Ù†ÛŒØ±"
    ],
    "Ø§ØµÙÙ‡Ø§Ù†": [
        "Ø§ØµÙÙ‡Ø§Ù†",
        "Ø¢Ø±Ø§Ù† Ùˆ Ø¨ÛŒØ¯Ú¯Ù„",
        "Ø§Ø±Ø¯Ø³ØªØ§Ù†",
        "Ø¨Ø±Ø®ÙˆØ§Ø±",
        "Ø¨ÙˆØ¦ÛŒÙ† Ùˆ Ù…ÛŒØ§Ù†Ø¯Ø´Øª",
        "ØªÛŒØ±Ø§Ù† Ùˆ Ú©Ø±ÙˆÙ†",
        "Ú†Ø§Ø¯Ú¯Ø§Ù†",
        "Ø®Ù…ÛŒÙ†ÛŒâ€ŒØ´Ù‡Ø±",
        "Ø®ÙˆØ§Ù†Ø³Ø§Ø±",
        "Ø®ÙˆØ± Ùˆ Ø¨ÛŒØ§Ø¨Ø§Ù†Ú©",
        "Ø¯Ù‡Ø§Ù‚Ø§Ù†",
        "Ø³Ù…ÛŒØ±Ù…",
        "Ø´Ø§Ù‡ÛŒÙ†â€ŒØ´Ù‡Ø± Ùˆ Ù…ÛŒÙ…Ù‡",
        "Ø´Ù‡Ø±Ø¶Ø§",
        "ÙØ±ÛŒØ¯Ù†",
        "ÙØ±ÛŒØ¯ÙˆÙ†â€ŒØ´Ù‡Ø±",
        "ÙÙ„Ø§ÙˆØ±Ø¬Ø§Ù†",
        "Ú©Ø§Ø´Ø§Ù†",
        "Ú¯Ù„Ù¾Ø§ÛŒÚ¯Ø§Ù†",
        "Ù„Ù†Ø¬Ø§Ù†",
        "Ù…Ø¨Ø§Ø±Ú©Ù‡",
        "Ù†Ø§Ø¦ÛŒÙ†",
        "Ù†Ø¬Ùâ€ŒØ¢Ø¨Ø§Ø¯",
        "Ù†Ø·Ù†Ø²"
    ],
    "Ø§Ù„Ø¨Ø±Ø²": [
        "Ú©Ø±Ø¬",
        "Ø§Ø´ØªÙ‡Ø§Ø±Ø¯",
        "Ø³Ø§ÙˆØ¬Ø¨Ù„Ø§Øº",
        "Ø·Ø§Ù„Ù‚Ø§Ù†",
        "ÙØ±Ø¯ÛŒØ³",
        "Ù†Ø¸Ø±Ø¢Ø¨Ø§Ø¯"
    ],
    "Ø§ÛŒÙ„Ø§Ù…": [
        "Ø§ÛŒÙ„Ø§Ù…",
        "Ø¢Ø¨Ø¯Ø§Ù†Ø§Ù†",
        "Ø§ÛŒÙˆØ§Ù†",
        "Ø¨Ø¯Ø±Ù‡",
        "Ú†Ø±Ø¯Ø§ÙˆÙ„",
        "Ø¯Ø±Ù‡â€ŒØ´Ù‡Ø±",
        "Ø¯Ù‡Ù„Ø±Ø§Ù†",
        "Ø³ÛŒØ±ÙˆØ§Ù†",
        "Ù…Ù„Ú©Ø´Ø§Ù‡ÛŒ",
        "Ù…Ù‡Ø±Ø§Ù†"
    ],
    "Ø¨ÙˆØ´Ù‡Ø±": [
        "Ø¨ÙˆØ´Ù‡Ø±",
        "ØªÙ†Ú¯Ø³ØªØ§Ù†",
        "Ø¬Ù…",
        "Ø¯Ø´ØªØ³ØªØ§Ù†",
        "Ø¯Ø´ØªÛŒ",
        "Ø¯ÛŒØ±",
        "Ø¯ÛŒÙ„Ù…",
        "Ú©Ù†Ú¯Ø§Ù†",
        "Ú¯Ù†Ø§ÙˆÙ‡"
    ],
    "ØªÙ‡Ø±Ø§Ù†": [
        "ØªÙ‡Ø±Ø§Ù†",
        "Ø§Ø³Ù„Ø§Ù…Ø´Ù‡Ø±",
        "Ø¨Ù‡Ø§Ø±Ø³ØªØ§Ù†",
        "Ù¾Ø§Ú©Ø¯Ø´Øª",
        "Ù¾Ø±Ø¯ÛŒØ³",
        "Ù¾ÛŒØ´ÙˆØ§",
        "Ø¯Ù…Ø§ÙˆÙ†Ø¯",
        "Ø±Ø¨Ø§Ø·â€ŒÚ©Ø±ÛŒÙ…",
        "Ø±ÛŒ",
        "Ø´Ù…ÛŒØ±Ø§Ù†Ø§Øª",
        "Ø´Ù‡Ø±ÛŒØ§Ø±",
        "ÙÛŒØ±ÙˆØ²Ú©ÙˆÙ‡",
        "Ù‚Ø¯Ø³",
        "Ù‚Ø±Ú†Ú©",
        "Ù…Ù„Ø§Ø±Ø¯",
        "ÙˆØ±Ø§Ù…ÛŒÙ†"
    ],
    "Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ": [
        "Ø´Ù‡Ø±Ú©Ø±Ø¯",
        "Ø§Ø±Ø¯Ù„",
        "Ø¨Ø±ÙˆØ¬Ù†",
        "Ø¨Ù†",
        "Ø³Ø§Ù…Ø§Ù†",
        "ÙØ§Ø±Ø³Ø§Ù†",
        "Ú©ÙˆÙ‡Ø±Ù†Ú¯",
        "Ú©ÛŒØ§Ø±",
        "Ù„Ø±Ø¯Ú¯Ø§Ù†"
    ],
    "Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ": [
        "Ø¨ÛŒØ±Ø¬Ù†Ø¯",
        "Ø¨Ø´Ø±ÙˆÛŒÙ‡",
        "Ø®ÙˆØ³Ù",
        "Ø¯Ø±Ù…ÛŒØ§Ù†",
        "Ø²ÛŒØ±Ú©ÙˆÙ‡",
        "Ø³Ø±Ø§ÛŒØ§Ù†",
        "Ø³Ø±Ø¨ÛŒØ´Ù‡",
        "Ø·Ø¨Ø³",
        "ÙØ±Ø¯ÙˆØ³",
        "Ù‚Ø§Ø¦Ù†Ø§Øª",
        "Ù†Ù‡Ø¨Ù†Ø¯Ø§Ù†"
    ],
    "Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ": [
        "Ù…Ø´Ù‡Ø¯",
        "Ø¨Ø±Ø¯Ø³Ú©Ù†",
        "Ø¨Ø¬Ø³ØªØ§Ù†",
        "ØªØ§ÛŒØ¨Ø§Ø¯",
        "ØªØ±Ø¨Øª Ø¬Ø§Ù…",
        "ØªØ±Ø¨Øª Ø­ÛŒØ¯Ø±ÛŒÙ‡",
        "Ú†Ù†Ø§Ø±Ø§Ù†",
        "Ø®Ù„ÛŒÙ„â€ŒØ¢Ø¨Ø§Ø¯",
        "Ø®ÙˆØ§Ù",
        "Ø¯Ø±Ú¯Ø²",
        "Ø±Ø´ØªØ®ÙˆØ§Ø±",
        "Ø²Ø§ÙˆÙ‡",
        "Ø³Ø¨Ø²ÙˆØ§Ø±",
        "Ø³Ø±Ø®Ø³",
        "ÙØ±ÛŒÙ…Ø§Ù†",
        "Ù‚ÙˆÚ†Ø§Ù†",
        "Ú©Ø§Ø´Ù…Ø±",
        "Ú©Ù„Ø§Øª",
        "Ú¯Ù†Ø§Ø¨Ø§Ø¯",
        "Ù…Ù‡â€ŒÙˆÙ„Ø§Øª",
        "Ù†ÛŒØ´Ø§Ø¨ÙˆØ±"
    ],
    "Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ": [
        "Ø¨Ø¬Ù†ÙˆØ±Ø¯",
        "Ø§Ø³ÙØ±Ø§ÛŒÙ†",
        "Ø¬Ø§Ø¬Ø±Ù…",
        "Ø±Ø§Ø² Ùˆ Ø¬Ø±Ú¯Ù„Ø§Ù†",
        "Ø´ÛŒØ±ÙˆØ§Ù†",
        "ÙØ§Ø±ÙˆØ¬",
        "Ú¯Ø±Ù…Ù‡",
        "Ù…Ø§Ù†Ù‡ Ùˆ Ø³Ù…Ù„Ù‚Ø§Ù†"
    ],
    "Ø®ÙˆØ²Ø³ØªØ§Ù†": [
        "Ø§Ù‡ÙˆØ§Ø²",
        "Ø¢Ø¨Ø§Ø¯Ø§Ù†",
        "Ø§Ù…ÛŒØ¯ÛŒÙ‡",
        "Ø§Ù†Ø¯ÛŒÚ©Ø§",
        "Ø§Ù†Ø¯ÛŒÙ…Ø´Ú©",
        "Ø§ÛŒØ°Ù‡",
        "Ø¨Ø§Øºâ€ŒÙ…Ù„Ú©",
        "Ø¨Ø§ÙˆÛŒ",
        "Ø¨Ù‡Ø¨Ù‡Ø§Ù†",
        "Ø­Ù…ÛŒØ¯ÛŒÙ‡",
        "Ø®Ø±Ù…Ø´Ù‡Ø±",
        "Ø¯Ø²ÙÙˆÙ„",
        "Ø¯Ø´Øª Ø¢Ø²Ø§Ø¯Ú¯Ø§Ù†",
        "Ø±Ø§Ù…Ø´ÛŒØ±",
        "Ø±Ø§Ù…Ù‡Ø±Ù…Ø²",
        "Ø´Ø§Ø¯Ú¯Ø§Ù†",
        "Ø´ÙˆØ´",
        "Ø´ÙˆØ´ØªØ±",
        "Ú©Ø§Ø±ÙˆÙ†",
        "Ú¯ØªÙˆÙ†Ø¯",
        "Ù„Ø§Ù„ÛŒ",
        "Ù…Ø§Ù‡Ø´Ù‡Ø±",
        "Ù…Ø³Ø¬Ø¯Ø³Ù„ÛŒÙ…Ø§Ù†",
        "Ù‡ÙØªÚ©Ù„",
        "Ù‡Ù†Ø¯ÛŒØ¬Ø§Ù†",
        "Ù‡ÙˆÛŒØ²Ù‡"
    ],
    "Ø²Ù†Ø¬Ø§Ù†": [
        "Ø²Ù†Ø¬Ø§Ù†",
        "Ø§Ø¨Ù‡Ø±",
        "Ø§ÛŒØ¬Ø±ÙˆØ¯",
        "Ø®Ø¯Ø§Ø¨Ù†Ø¯Ù‡",
        "Ø®Ø±Ù…Ø¯Ø±Ù‡",
        "Ø³Ù„Ø·Ø§Ù†ÛŒÙ‡",
        "Ø·Ø§Ø±Ù…",
        "Ù…Ø§Ù‡Ù†Ø´Ø§Ù†"
    ],
    "Ø³Ù…Ù†Ø§Ù†": [
        "Ø³Ù…Ù†Ø§Ù†",
        "Ø¯Ø§Ù…ØºØ§Ù†",
        "Ø³Ø±Ø®Ù‡",
        "Ø´Ø§Ù‡Ø±ÙˆØ¯",
        "Ú¯Ø±Ù…Ø³Ø§Ø±",
        "Ù…Ù‡Ø¯ÛŒâ€ŒØ´Ù‡Ø±",
        "Ù…ÛŒØ§Ù…ÛŒ"
    ],
    "Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†": [
        "Ø²Ø§Ù‡Ø¯Ø§Ù†",
        "Ø§ÛŒØ±Ø§Ù†Ø´Ù‡Ø±",
        "Ú†Ø§Ø¨Ù‡Ø§Ø±",
        "Ø®Ø§Ø´",
        "Ø¯Ù„Ú¯Ø§Ù†",
        "Ø²Ø§Ø¨Ù„",
        "Ø²Ù‡Ú©",
        "Ø³Ø±Ø§ÙˆØ§Ù†",
        "Ø³Ø±Ø¨Ø§Ø²",
        "Ø³ÛŒØ¨ Ùˆ Ø³ÙˆØ±Ø§Ù†",
        "ÙÙ†ÙˆØ¬",
        "Ù‚ØµØ±Ù‚Ù†Ø¯",
        "Ú©Ù†Ø§Ø±Ú©",
        "Ù…Ù‡Ø±Ø³ØªØ§Ù†",
        "Ù…ÛŒØ±Ø¬Ø§ÙˆÙ‡",
        "Ù†ÛŒÚ©â€ŒØ´Ù‡Ø±"
    ],
    "ÙØ§Ø±Ø³": [
        "Ø´ÛŒØ±Ø§Ø²",
        "Ø¢Ø¨Ø§Ø¯Ù‡",
        "Ø§Ø±Ø³Ù†Ø¬Ø§Ù†",
        "Ø§Ø³ØªÙ‡Ø¨Ø§Ù†",
        "Ø§Ù‚Ù„ÛŒØ¯",
        "Ø¨ÙˆØ§Ù†Ø§Øª",
        "Ù¾Ø§Ø³Ø§Ø±Ú¯Ø§Ø¯",
        "Ø¬Ù‡Ø±Ù…",
        "Ø®Ø±Ø§Ù…Ù‡",
        "Ø®Ù†Ø¬",
        "Ø¯Ø§Ø±Ø§Ø¨",
        "Ø²Ø±ÛŒÙ†â€ŒØ¯Ø´Øª",
        "Ø³Ø±ÙˆØ³ØªØ§Ù†",
        "Ø³Ù¾ÛŒØ¯Ø§Ù†",
        "Ø´ÛŒØ±Ø§Ø²",
        "ÙØ±Ø§Ø´Ø¨Ù†Ø¯",
        "ÙØ³Ø§",
        "ÙÛŒØ±ÙˆØ²Ø¢Ø¨Ø§Ø¯",
        "Ù‚Ø§ÛŒÙ…ÛŒÙ‡",
        "Ù‚ÛŒØ± Ùˆ Ú©Ø§Ø±Ø²ÛŒÙ†",
        "Ú©Ø§Ø²Ø±ÙˆÙ†",
        "Ú¯Ø±Ø§Ø´",
        "Ù„Ø§Ø±Ø³ØªØ§Ù†",
        "Ù„Ø§Ù…Ø±Ø¯",
        "Ù…Ø±ÙˆØ¯Ø´Øª",
        "Ù…Ù…Ø³Ù†ÛŒ",
        "Ù†ÛŒâ€ŒØ±ÛŒØ²"
    ],
    "Ù‚Ø²ÙˆÛŒÙ†": [
        "Ù‚Ø²ÙˆÛŒÙ†",
        "Ø¢Ø¨ÛŒÚ©",
        "Ø§Ù„Ø¨Ø±Ø²",
        "Ø¨ÙˆØ¦ÛŒÙ†â€ŒØ²Ù‡Ø±Ø§",
        "ØªØ§Ú©Ø³ØªØ§Ù†",
        "Ø¢ÙˆØ¬"
    ],
    "Ù‚Ù…": [
        "Ù‚Ù…"
    ],
    "Ú©Ø±Ø¯Ø³ØªØ§Ù†": [
        "Ø³Ù†Ù†Ø¯Ø¬",
        "Ø¨Ø§Ù†Ù‡",
        "Ø¨ÛŒØ¬Ø§Ø±",
        "Ø¯ÛŒÙˆØ§Ù†Ø¯Ø±Ù‡",
        "Ø¯Ù‡Ú¯Ù„Ø§Ù†",
        "Ø³Ø±ÙˆØ¢Ø¨Ø§Ø¯",
        "Ø³Ù‚Ø²",
        "Ù‚Ø±ÙˆÙ‡",
        "Ú©Ø§Ù…ÛŒØ§Ø±Ø§Ù†",
        "Ù…Ø±ÛŒÙˆØ§Ù†"
    ],
    "Ú©Ø±Ù…Ø§Ù†": [
        "Ú©Ø±Ù…Ø§Ù†",
        "Ø§Ø±Ø²ÙˆØ¦ÛŒÙ‡",
        "Ø§Ù†Ø§Ø±",
        "Ø¨Ø§ÙØª",
        "Ø¨Ø±Ø¯Ø³ÛŒØ±",
        "Ø¨Ù…",
        "Ø¬ÛŒØ±ÙØª",
        "Ø±Ø§Ø¨Ø±",
        "Ø±Ø§ÙˆØ±",
        "Ø±ÙˆØ¯Ø¨Ø§Ø± Ø¬Ù†ÙˆØ¨",
        "Ø±ÛŒÚ¯Ø§Ù†",
        "Ø²Ø±Ù†Ø¯",
        "Ø³ÛŒØ±Ø¬Ø§Ù†",
        "Ø´Ù‡Ø±Ø¨Ø§Ø¨Ú©",
        "Ø¹Ù†Ø¨Ø±Ø¢Ø¨Ø§Ø¯",
        "ÙØ§Ø±ÛŒØ§Ø¨",
        "ÙÙ‡Ø±Ø¬",
        "Ù‚Ù„Ø¹Ù‡ Ú¯Ù†Ø¬",
        "Ú©ÙˆÙ‡Ø¨Ù†Ø§Ù†",
        "Ú©Ù‡Ù†ÙˆØ¬",
        "Ù…Ù†ÙˆØ¬Ø§Ù†"
    ],
    "Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡": [
        "Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡",
        "Ø§Ø³Ù„Ø§Ù…â€ŒØ¢Ø¨Ø§Ø¯ ØºØ±Ø¨",
        "Ù¾Ø§ÙˆÙ‡",
        "Ø«Ù„Ø§Ø« Ø¨Ø§Ø¨Ø§Ø¬Ø§Ù†ÛŒ",
        "Ø¬ÙˆØ§Ù†Ø±ÙˆØ¯",
        "Ø¯Ø§Ù„Ø§Ù‡Ùˆ",
        "Ø±ÙˆØ§Ù†Ø³Ø±",
        "Ø³Ø±Ù¾Ù„ Ø°Ù‡Ø§Ø¨",
        "Ø³Ù†Ù‚Ø±",
        "ØµØ­Ù†Ù‡",
        "Ù‚ØµØ± Ø´ÛŒØ±ÛŒÙ†",
        "Ú©Ø±Ù†Ø¯ ØºØ±Ø¨",
        "Ú©Ù†Ú¯Ø§ÙˆØ±",
        "Ú¯ÛŒÙ„Ø§Ù†ØºØ±Ø¨",
        "Ù‡Ø±Ø³ÛŒÙ†"
    ],
    "Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯": [
        "ÛŒØ§Ø³ÙˆØ¬",
        "Ø¨Ø§Ø´Øª",
        "Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯",
        "Ø¨Ù‡Ù…Ø¦ÛŒ",
        "Ú†Ø±Ø§Ù…",
        "Ø¯Ù†Ø§",
        "Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡",
        "Ú¯Ú†Ø³Ø§Ø±Ø§Ù†",
        "Ù„Ù†Ø¯Ù‡"
    ],
    "Ú¯Ù„Ø³ØªØ§Ù†": [
        "Ú¯Ø±Ú¯Ø§Ù†",
        "Ø¢Ø²Ø§Ø¯Ø´Ù‡Ø±",
        "Ø¢Ù‚â€ŒÙ‚Ù„Ø§",
        "Ø¨Ù†Ø¯Ø± Ú¯Ø²",
        "ØªØ±Ú©Ù…Ù†",
        "Ø±Ø§Ù…ÛŒØ§Ù†",
        "Ø¹Ù„ÛŒâ€ŒØ¢Ø¨Ø§Ø¯ Ú©ØªÙˆÙ„",
        "Ú©Ø±Ø¯Ú©ÙˆÛŒ",
        "Ú©Ù„Ø§Ù„Ù‡",
        "Ú¯Ø§Ù„ÛŒÚ©Ø´",
        "Ú¯Ù…ÛŒØ´Ø§Ù†",
        "Ú¯Ù†Ø¨Ø¯ Ú©Ø§ÙˆÙˆØ³",
        "Ù…Ø±Ø§ÙˆÙ‡â€ŒØªÙ¾Ù‡",
        "Ù…ÛŒÙ†ÙˆØ¯Ø´Øª"
    ],
    "Ú¯ÛŒÙ„Ø§Ù†": [
        "Ø±Ø´Øª",
        "Ø¢Ø³ØªØ§Ø±Ø§",
        "Ø¢Ø³ØªØ§Ù†Ù‡ Ø§Ø´Ø±ÙÛŒÙ‡",
        "Ø§Ù…Ù„Ø´",
        "Ø¨Ù†Ø¯Ø± Ø§Ù†Ø²Ù„ÛŒ",
        "ØªØ§Ù„Ø´",
        "Ø±ÙˆØ¯Ø¨Ø§Ø±",
        "Ø±ÙˆØ¯Ø³Ø±",
        "Ø±Ø¶ÙˆØ§Ù†Ø´Ù‡Ø±",
        "Ø³ÛŒØ§Ù‡Ú©Ù„",
        "Ø´ÙØª",
        "ØµÙˆÙ…Ø¹Ù‡â€ŒØ³Ø±Ø§",
        "ÙÙˆÙ…Ù†",
        "Ù„Ø§Ù‡ÛŒØ¬Ø§Ù†",
        "Ù„Ù†Ú¯Ø±ÙˆØ¯",
        "Ù…Ø§Ø³Ø§Ù„"
    ],
    "Ù„Ø±Ø³ØªØ§Ù†": [
        "Ø®Ø±Ù…â€ŒØ¢Ø¨Ø§Ø¯",
        "Ø§Ù„ÛŒÚ¯ÙˆØ¯Ø±Ø²",
        "Ø¨Ø±ÙˆØ¬Ø±Ø¯",
        "Ù¾Ù„â€ŒØ¯Ø®ØªØ±",
        "Ú†Ú¯Ù†ÛŒ",
        "Ø¯Ù„ÙØ§Ù†",
        "Ø¯ÙˆØ±ÙˆØ¯",
        "Ø±ÙˆÙ…Ø´Ú©Ø§Ù†",
        "Ø³Ù„Ø³Ù„Ù‡",
        "Ú©ÙˆÙ‡Ø¯Ø´Øª"
    ],
    "Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†": [
        "Ø³Ø§Ø±ÛŒ",
        "Ø¢Ù…Ù„",
        "Ø¨Ø§Ø¨Ù„",
        "Ø¨Ø§Ø¨Ù„Ø³Ø±",
        "Ø¨Ù‡Ø´Ù‡Ø±",
        "ØªÙ†Ú©Ø§Ø¨Ù†",
        "Ø¬ÙˆÛŒØ¨Ø§Ø±",
        "Ú†Ø§Ù„ÙˆØ³",
        "Ø±Ø§Ù…Ø³Ø±",
        "Ø³ÙˆØ§Ø¯Ú©ÙˆÙ‡",
        "Ø¹Ø¨Ø§Ø³â€ŒØ¢Ø¨Ø§Ø¯",
        "ÙØ±ÛŒØ¯ÙˆÙ†â€ŒÚ©Ù†Ø§Ø±",
        "Ù‚Ø§Ø¦Ù…â€ŒØ´Ù‡Ø±",
        "Ú©Ù„Ø§Ø±Ø¯Ø´Øª",
        "Ú¯Ù„ÙˆÚ¯Ø§Ù‡",
        "Ù…Ø­Ù…ÙˆØ¯Ø¢Ø¨Ø§Ø¯",
        "Ù…ÛŒØ§Ù†Ø¯Ø±ÙˆØ¯",
        "Ù†Ú©Ø§",
        "Ù†ÙˆØ±",
        "Ù†ÙˆØ´Ù‡Ø±"
    ],
    "Ù…Ø±Ú©Ø²ÛŒ": [
        "Ø§Ø±Ø§Ú©",
        "Ø¢Ø´ØªÛŒØ§Ù†",
        "ØªÙØ±Ø´",
        "Ø®Ù…ÛŒÙ†",
        "Ø¯Ù„ÛŒØ¬Ø§Ù†",
        "Ø²Ø±Ù†Ø¯ÛŒÙ‡",
        "Ø³Ø§ÙˆÙ‡",
        "Ø´Ø§Ø²Ù†Ø¯",
        "Ú©Ù…ÛŒØ¬Ø§Ù†",
        "Ù…Ø­Ù„Ø§Øª"
    ],
    "Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†": [
        "Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³",
        "Ø§Ø¨ÙˆÙ…ÙˆØ³ÛŒ",
        "Ø¨Ø³ØªÚ©",
        "Ø¨Ø´Ø§Ú¯Ø±Ø¯",
        "Ø¨Ù†Ø¯Ø± Ù„Ù†Ú¯Ù‡",
        "Ù¾Ø§Ø±Ø³ÛŒØ§Ù†",
        "Ø¬Ø§Ø³Ú©",
        "Ø­Ø§Ø¬ÛŒâ€ŒØ¢Ø¨Ø§Ø¯",
        "Ø®Ù…ÛŒØ±",
        "Ø±ÙˆØ¯Ø§Ù†",
        "Ø³ÛŒØ±ÛŒÚ©",
        "Ù‚Ø´Ù…",
        "Ù…ÛŒÙ†Ø§Ø¨"
    ],
    "Ù‡Ù…Ø¯Ø§Ù†": [
        "Ù‡Ù…Ø¯Ø§Ù†",
        "Ø§Ø³Ø¯Ø¢Ø¨Ø§Ø¯",
        "Ø¨Ù‡Ø§Ø±",
        "ØªÙˆÛŒØ³Ø±Ú©Ø§Ù†",
        "Ø±Ø²Ù†",
        "Ú©Ø¨ÙˆØ¯Ø±Ø¢Ù‡Ù†Ú¯",
        "Ù…Ù„Ø§ÛŒØ±",
        "Ù†Ù‡Ø§ÙˆÙ†Ø¯"
    ],
    "ÛŒØ²Ø¯": [
        "ÛŒØ²Ø¯",
        "Ø§Ø¨Ø±Ú©ÙˆÙ‡",
        "Ø§Ø±Ø¯Ú©Ø§Ù†",
        "Ø§Ø´Ú©Ø°Ø±",
        "Ø¨Ø§ÙÙ‚",
        "Ø¨Ù‡Ø§Ø¨Ø§Ø¯",
        "ØªÙØª",
        "Ø®Ø§ØªÙ…",
        "Ù…Ù‡Ø±ÛŒØ²",
        "Ù…ÛŒØ¨Ø¯"
    ]
}
};


document.addEventListener("DOMContentLoaded", function () {
            const provinceSelect = document.getElementById("province");
            const citySelect = document.getElementById("city");

            provinceSelect.addEventListener("change", function () {
              const selectedProvince = this.value;
              const cities = citiesByProvince[selectedProvince] || [];
            
              // Clear previous cities
              citySelect.innerHTML = "";
            
              cities.forEach(function (city) {
                const option = document.createElement("option");
                option.value = city;
                option.textContent = city;
                citySelect.appendChild(option);
              });
        });

        // Ù…Ù‚Ø¯Ø§Ø± Ø§ÙˆÙ„ÛŒÙ‡ (Ø¨Ø±Ø§ÛŒ Ø­Ø§Ù„Øª ÙˆÛŒØ±Ø§ÛŒØ´)
        if (initialProvince && initialCity) {
            provinceSelect.value = initialProvince;
            const cities = citiesByProvince[initialProvince] || [];
            cities.forEach(function (city) {
                const option = document.createElement("option");
                option.value = city;
                option.textContent = city;
                if (city === initialCity) {
                    option.selected = true;
                }
                citySelect.appendChild(option);
            });
        }
    });
    console.log(citiesByProvince["ØªÙ‡Ø±Ø§Ù†"]);


     function previewImage(event) {
        var output = document.getElementById('imagePreview');
        var file = event.target.files[0];
        var reader = new FileReader();
        
        reader.onload = function() {
            output.style.display = 'block';
            output.querySelector('img').src = reader.result;
        }
        
        if (file) {
            reader.readAsDataURL(file);
        }
    }

    // Ù„ØºÙˆ Ø§Ù†ØªØ®Ø§Ø¨ ØªØµÙˆÛŒØ±
    function removeImage() {
        const imagePath = document.getElementById('uploaded_image_path').value;
        
        if (imagePath) {
            fetch('/delete-uploaded-image', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ image_path: imagePath })
            })
            .then(res => res.json())
            .then(data => {
                if (data.success) {
                    console.log("âœ… ÙØ§ÛŒÙ„ ØªØµÙˆÛŒØ± Ø§Ø² Ø³Ø±ÙˆØ± Ø­Ø°Ù Ø´Ø¯.");
                } else {
                    console.error("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù ÙØ§ÛŒÙ„:", data.error);
                }
            })
            .catch(err => {
                console.error("âŒ Ø®Ø·Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ±:", err);
            });
        }
    
        // Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ UI
        const preview = document.getElementById('imagePreview');
        preview.style.display = 'none';
        preview.querySelector("img").src = '';
    
        const fileInput = document.getElementById('image');
        fileInput.value = '';
        if (fileInput.value) {
            const newInput = fileInput.cloneNode(true);
            fileInput.parentNode.replaceChild(newInput, fileInput);
            newInput.addEventListener('change', previewImage);
        }
    
        document.getElementById('uploaded_image_path').value = "";
        document.getElementById("submitBtn").disabled = true;
    }

</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.js"></script>
{% endblock %}
